INFO 2025-09-25 16:32:05,350 autoreload 9743 140704264179712 Watching for file changes with StatReloader
WARNING 2025-09-25 16:32:30,031 log 9743 123145565118464 Not Found: /
WARNING 2025-09-25 16:32:30,035 basehttp 9743 123145565118464 "GET / HTTP/1.1" 404 2639
WARNING 2025-09-25 16:32:30,496 log 9743 123145565118464 Not Found: /favicon.ico
WARNING 2025-09-25 16:32:30,496 basehttp 9743 123145565118464 "GET /favicon.ico HTTP/1.1" 404 2690
INFO 2025-09-25 16:36:36,774 autoreload 9743 140704264179712 /Users/dennismureti/Downloads/ecommerce-api/ecommerce/urls.py changed, reloading.
INFO 2025-09-25 16:36:40,419 autoreload 9833 140704264179712 Watching for file changes with StatReloader
INFO 2025-09-25 16:36:47,258 basehttp 9833 123145565609984 "GET /admin HTTP/1.1" 301 0
INFO 2025-09-25 16:36:47,337 basehttp 9833 123145582399488 "GET /admin/ HTTP/1.1" 302 0
INFO 2025-09-25 16:36:47,441 basehttp 9833 123145582399488 "GET /admin/login/?next=/admin/ HTTP/1.1" 200 4185
INFO 2025-09-25 16:36:48,586 basehttp 9833 123145582399488 "GET /static/admin/css/base.css HTTP/1.1" 200 21207
INFO 2025-09-25 16:36:48,660 basehttp 9833 123145615978496 "GET /static/admin/css/login.css HTTP/1.1" 200 958
INFO 2025-09-25 16:36:48,660 basehttp 9833 123145565609984 "GET /static/admin/css/dark_mode.css HTTP/1.1" 200 2929
INFO 2025-09-25 16:36:48,660 basehttp 9833 123145599188992 "GET /static/admin/css/nav_sidebar.css HTTP/1.1" 200 2694
INFO 2025-09-25 16:36:48,661 basehttp 9833 123145649557504 "GET /static/admin/js/theme.js HTTP/1.1" 200 1943
INFO 2025-09-25 16:36:48,663 basehttp 9833 123145632768000 "GET /static/admin/css/responsive.css HTTP/1.1" 200 18533
INFO 2025-09-25 16:36:48,751 basehttp 9833 123145615978496 "GET /static/admin/js/nav_sidebar.js HTTP/1.1" 200 3063
INFO 2025-09-25 16:37:12,493 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4353
INFO 2025-09-25 16:37:24,073 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4353
INFO 2025-09-25 16:37:39,039 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4353
INFO 2025-09-25 16:38:15,645 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4353
INFO 2025-09-25 16:38:22,627 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4353
INFO 2025-09-25 16:38:53,852 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4350
INFO 2025-09-25 16:39:45,569 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4355
INFO 2025-09-25 16:40:02,064 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4346
INFO 2025-09-25 16:40:12,871 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4346
INFO 2025-09-25 16:40:19,720 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4346
WARNING 2025-09-25 16:40:24,243 log 9833 123145565609984 Not Found: /.well-known/appspecific/com.chrome.devtools.json
WARNING 2025-09-25 16:40:24,243 basehttp 9833 123145565609984 "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404 2801
INFO 2025-09-25 16:40:29,033 basehttp 9833 123145565609984 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4346
WARNING 2025-09-25 16:40:29,088 log 9833 123145565609984 Not Found: /.well-known/appspecific/com.chrome.devtools.json
WARNING 2025-09-25 16:40:29,088 basehttp 9833 123145565609984 "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404 2801
INFO 2025-09-25 16:41:49,977 signals 10129 140704264179712 New customer created: admin@gmail.com
INFO 2025-09-25 16:43:38,041 autoreload 10318 140704264179712 Watching for file changes with StatReloader
INFO 2025-09-25 16:43:42,930 basehttp 10318 123145521319936 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4349
INFO 2025-09-25 16:43:49,250 basehttp 10318 123145520783360 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4349
INFO 2025-09-25 16:45:20,827 basehttp 10318 123145520783360 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4346
INFO 2025-09-25 16:45:27,871 basehttp 10318 123145520783360 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4346
INFO 2025-09-25 16:47:17,662 autoreload 10964 140704264179712 Watching for file changes with StatReloader
INFO 2025-09-25 16:47:31,162 basehttp 10964 123145402806272 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4346
INFO 2025-09-25 16:47:43,709 basehttp 10964 123145402806272 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4346
INFO 2025-09-25 16:47:48,928 basehttp 10964 123145402806272 "POST /admin/login/?next=/admin/ HTTP/1.1" 200 4346
INFO 2025-09-25 16:47:53,121 signals 10964 123145402806272 Customer logged in: admin@gmail.com
INFO 2025-09-25 16:47:53,121 views 10964 123145402806272 User login: admin@gmail.com from 127.0.0.1
INFO 2025-09-25 16:47:53,123 basehttp 10964 123145402806272 "POST /admin/login/?next=/admin/ HTTP/1.1" 302 0
INFO 2025-09-25 16:47:53,168 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 16:47:53,224 basehttp 10964 123145402806272 "GET /static/admin/css/dashboard.css HTTP/1.1" 200 441
INFO 2025-09-25 16:47:53,253 basehttp 10964 123145402806272 "GET /static/admin/img/icon-addlink.svg HTTP/1.1" 200 331
INFO 2025-09-25 16:47:53,253 basehttp 10964 123145419595776 "GET /static/admin/img/icon-changelink.svg HTTP/1.1" 200 380
INFO 2025-09-25 16:48:07,686 basehttp 10964 123145402806272 "GET /admin/customers/customer/ HTTP/1.1" 200 15959
INFO 2025-09-25 16:48:07,836 basehttp 10964 123145402806272 "GET /static/admin/css/changelists.css HTTP/1.1" 200 6566
INFO 2025-09-25 16:48:07,865 basehttp 10964 123145402806272 "GET /static/admin/js/actions.js HTTP/1.1" 200 7872
INFO 2025-09-25 16:48:07,865 basehttp 10964 123145453174784 "GET /static/admin/js/jquery.init.js HTTP/1.1" 200 347
INFO 2025-09-25 16:48:07,866 basehttp 10964 123145469964288 "GET /static/admin/js/core.js HTTP/1.1" 200 5682
INFO 2025-09-25 16:48:07,873 basehttp 10964 123145486753792 "GET /static/admin/js/admin/RelatedObjectLookups.js HTTP/1.1" 200 8943
INFO 2025-09-25 16:48:07,880 basehttp 10964 123145402806272 "GET /static/admin/js/urlify.js HTTP/1.1" 200 7887
INFO 2025-09-25 16:48:07,882 basehttp 10964 123145469964288 "GET /static/admin/img/search.svg HTTP/1.1" 200 458
INFO 2025-09-25 16:48:07,888 basehttp 10964 123145453174784 "GET /static/admin/js/prepopulate.js HTTP/1.1" 200 1531
INFO 2025-09-25 16:48:07,890 basehttp 10964 123145402806272 "GET /static/admin/img/icon-yes.svg HTTP/1.1" 200 436
INFO 2025-09-25 16:48:07,893 basehttp 10964 123145436385280 "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 200 292458
INFO 2025-09-25 16:48:07,897 basehttp 10964 123145486753792 "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 200 232381
INFO 2025-09-25 16:48:07,903 basehttp 10964 123145486753792 "GET /static/admin/js/filters.js HTTP/1.1" 200 978
INFO 2025-09-25 16:48:07,905 basehttp 10964 123145419595776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 16:48:08,012 basehttp 10964 123145486753792 "GET /static/admin/img/sorting-icons.svg HTTP/1.1" 200 1097
INFO 2025-09-25 16:48:08,012 basehttp 10964 123145419595776 "GET /static/admin/img/tooltag-add.svg HTTP/1.1" 200 331
INFO 2025-09-25 16:48:12,204 basehttp 10964 123145419595776 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 16:48:14,636 log 10964 123145419595776 Internal Server Error: /admin/notifications/notification/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "notifications" does not exist
LINE 1: SELECT COUNT(*) AS "__count" FROM "notifications"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 836, in get_changelist_instance
    return ChangeList(
           ^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 123, in __init__
    self.get_results(request)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 279, in get_results
    result_count = paginator.count
                   ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/paginator.py", line 93, in count
    return c()
           ^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 608, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/query.py", line 568, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/query.py", line 554, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "notifications" does not exist
LINE 1: SELECT COUNT(*) AS "__count" FROM "notifications"
                                          ^

ERROR 2025-09-25 16:48:14,641 basehttp 10964 123145419595776 "GET /admin/notifications/notification/ HTTP/1.1" 500 177698
INFO 2025-09-25 16:48:16,400 basehttp 10964 123145419595776 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 16:48:17,548 log 10964 123145419595776 Internal Server Error: /admin/notifications/notificationtemplate/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "notification_templates" does not exist
LINE 1: SELECT COUNT(*) AS "__count" FROM "notification_templates"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 836, in get_changelist_instance
    return ChangeList(
           ^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 123, in __init__
    self.get_results(request)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 279, in get_results
    result_count = paginator.count
                   ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/paginator.py", line 93, in count
    return c()
           ^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 608, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/query.py", line 568, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/query.py", line 554, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "notification_templates" does not exist
LINE 1: SELECT COUNT(*) AS "__count" FROM "notification_templates"
                                          ^

ERROR 2025-09-25 16:48:17,550 basehttp 10964 123145419595776 "GET /admin/notifications/notificationtemplate/ HTTP/1.1" 500 178062
INFO 2025-09-25 16:48:18,853 basehttp 10964 123145419595776 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 16:48:20,530 log 10964 123145419595776 Internal Server Error: /admin/orders/orderitem/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "order_items" does not exist
LINE 1: SELECT COUNT(*) AS "__count" FROM "order_items"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 836, in get_changelist_instance
    return ChangeList(
           ^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 123, in __init__
    self.get_results(request)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 279, in get_results
    result_count = paginator.count
                   ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/paginator.py", line 93, in count
    return c()
           ^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 608, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/query.py", line 568, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/query.py", line 554, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "order_items" does not exist
LINE 1: SELECT COUNT(*) AS "__count" FROM "order_items"
                                          ^

ERROR 2025-09-25 16:48:20,532 basehttp 10964 123145419595776 "GET /admin/orders/orderitem/ HTTP/1.1" 500 177244
INFO 2025-09-25 16:48:21,381 basehttp 10964 123145419595776 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 16:48:23,060 log 10964 123145419595776 Internal Server Error: /admin/orders/orderstatushistory/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "order_status_history" does not exist
LINE 1: SELECT COUNT(*) AS "__count" FROM "order_status_history"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 836, in get_changelist_instance
    return ChangeList(
           ^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 123, in __init__
    self.get_results(request)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 279, in get_results
    result_count = paginator.count
                   ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/paginator.py", line 93, in count
    return c()
           ^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 608, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/query.py", line 568, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/query.py", line 554, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "order_status_history" does not exist
LINE 1: SELECT COUNT(*) AS "__count" FROM "order_status_history"
                                          ^

ERROR 2025-09-25 16:48:23,062 basehttp 10964 123145419595776 "GET /admin/orders/orderstatushistory/ HTTP/1.1" 500 177760
INFO 2025-09-25 16:48:24,125 basehttp 10964 123145419595776 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 16:48:36,966 log 10964 123145419595776 Internal Server Error: /admin/products/category/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "categories" does not exist
LINE 1: ...ies"."created_at", "categories"."updated_at" FROM "categorie...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 836, in get_changelist_instance
    return ChangeList(
           ^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 122, in __init__
    self.queryset = self.get_queryset(request)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 503, in get_queryset
    ) = self.get_filters(request)
        ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 182, in get_filters
    spec = field_list_filter_class(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/filters.py", line 175, in create
    return list_filter_class(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/filters.py", line 188, in __init__
    self.lookup_choices = self.field_choices(field, request, model_admin)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/filters.py", line 225, in field_choices
    return field.get_choices(include_blank=False, ordering=ordering)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/fields/__init__.py", line 1009, in get_choices
    return (blank_choice if include_blank else []) + [
                                                     ^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 398, in __iter__
    self._fetch_all()
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "categories" does not exist
LINE 1: ...ies"."created_at", "categories"."updated_at" FROM "categorie...
                                                             ^

ERROR 2025-09-25 16:48:36,969 basehttp 10964 123145419595776 "GET /admin/products/category/ HTTP/1.1" 500 198494
INFO 2025-09-25 16:48:37,965 basehttp 10964 123145419595776 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 16:48:39,588 log 10964 123145419595776 Internal Server Error: /admin/products/category/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "categories" does not exist
LINE 1: ...ies"."created_at", "categories"."updated_at" FROM "categorie...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "categories" does not exist
LINE 1: ...ies"."created_at", "categories"."updated_at" FROM "categorie...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1070, in render
    return render_value_in_context(output, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1047, in render_value_in_context
    value = str(value)
            ^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/html.py", line 420, in <lambda>
    klass.__str__ = lambda self: mark_safe(klass_str(self))
                                           ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 34, in __str__
    return self.as_widget()
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 107, in as_widget
    return widget.render(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/widgets.py", line 320, in get_context
    "rendered_widget": self.widget.render(name, value, attrs),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 758, in get_context
    context = super().get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 717, in get_context
    context["widget"]["optgroups"] = self.optgroups(
                                     ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 657, in optgroups
    for index, (option_value, option_label) in enumerate(self.choices):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/models.py", line 1403, in __iter__
    for obj in queryset:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 516, in _iterator
    yield from iterable
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1565, in execute_sql
    cursor.close()
psycopg2.errors.InvalidCursorName: cursor "_django_curs_123145419595776_sync_1" does not exist

ERROR 2025-09-25 16:48:39,596 basehttp 10964 123145419595776 "GET /admin/products/category/add/ HTTP/1.1" 500 730257
INFO 2025-09-25 16:48:45,798 basehttp 10964 123145419595776 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 16:48:50,320 basehttp 10964 123145419595776 "GET /admin/authtoken/tokenproxy/add/ HTTP/1.1" 200 12803
INFO 2025-09-25 16:48:50,363 basehttp 10964 123145419595776 "GET /static/admin/css/forms.css HTTP/1.1" 200 9047
INFO 2025-09-25 16:48:50,367 basehttp 10964 123145436385280 "GET /static/admin/img/icon-viewlink.svg HTTP/1.1" 200 581
INFO 2025-09-25 16:48:50,368 basehttp 10964 123145402806272 "GET /static/admin/js/prepopulate_init.js HTTP/1.1" 200 586
INFO 2025-09-25 16:48:50,380 basehttp 10964 123145419595776 "GET /static/admin/css/widgets.css HTTP/1.1" 200 11900
INFO 2025-09-25 16:48:50,390 basehttp 10964 123145486753792 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 16:48:50,403 basehttp 10964 123145486753792 "GET /static/admin/js/change_form.js HTTP/1.1" 200 606
INFO 2025-09-25 16:48:54,783 basehttp 10964 123145486753792 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 17:32:02,753 basehttp 10964 123145402806272 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14137
INFO 2025-09-25 17:32:02,857 basehttp 10964 123145402806272 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:32:06,957 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 17:32:10,427 log 10964 123145402806272 Internal Server Error: /admin/orders/orderitem/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "orders" does not exist
LINE 1: ...rders"."shipped_at", "orders"."delivered_at" FROM "orders" O...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "orders" does not exist
LINE 1: ...rders"."shipped_at", "orders"."delivered_at" FROM "orders" O...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1070, in render
    return render_value_in_context(output, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1047, in render_value_in_context
    value = str(value)
            ^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/html.py", line 420, in <lambda>
    klass.__str__ = lambda self: mark_safe(klass_str(self))
                                           ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 34, in __str__
    return self.as_widget()
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 107, in as_widget
    return widget.render(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/widgets.py", line 320, in get_context
    "rendered_widget": self.widget.render(name, value, attrs),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 758, in get_context
    context = super().get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 717, in get_context
    context["widget"]["optgroups"] = self.optgroups(
                                     ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 657, in optgroups
    for index, (option_value, option_label) in enumerate(self.choices):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/models.py", line 1403, in __iter__
    for obj in queryset:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 516, in _iterator
    yield from iterable
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1565, in execute_sql
    cursor.close()
psycopg2.errors.InvalidCursorName: cursor "_django_curs_123145402806272_sync_1" does not exist

ERROR 2025-09-25 17:32:10,431 basehttp 10964 123145402806272 "GET /admin/orders/orderitem/add/ HTTP/1.1" 500 727584
INFO 2025-09-25 17:32:12,090 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 17:32:16,782 basehttp 10964 123145402806272 "GET /admin/notifications/notificationtemplate/add/ HTTP/1.1" 200 16660
INFO 2025-09-25 17:32:16,852 basehttp 10964 123145402806272 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:32:24,574 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 17:32:27,151 log 10964 123145402806272 Internal Server Error: /admin/orders/orderitem/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "order_items" does not exist
LINE 1: SELECT COUNT(*) AS "__count" FROM "order_items"
                                          ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1926, in changelist_view
    cl = self.get_changelist_instance(request)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 836, in get_changelist_instance
    return ChangeList(
           ^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 123, in __init__
    self.get_results(request)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/views/main.py", line 279, in get_results
    result_count = paginator.count
                   ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/paginator.py", line 93, in count
    return c()
           ^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 608, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/query.py", line 568, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/query.py", line 554, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "order_items" does not exist
LINE 1: SELECT COUNT(*) AS "__count" FROM "order_items"
                                          ^

ERROR 2025-09-25 17:32:27,153 basehttp 10964 123145402806272 "GET /admin/orders/orderitem/ HTTP/1.1" 500 177244
INFO 2025-09-25 17:32:40,113 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 17:32:43,433 log 10964 123145402806272 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "products" does not exist
LINE 1: ...ducts"."created_at", "products"."updated_at" FROM "products"...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "products" does not exist
LINE 1: ...ducts"."created_at", "products"."updated_at" FROM "products"...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1070, in render
    return render_value_in_context(output, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1047, in render_value_in_context
    value = str(value)
            ^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/html.py", line 420, in <lambda>
    klass.__str__ = lambda self: mark_safe(klass_str(self))
                                           ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 34, in __str__
    return self.as_widget()
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 107, in as_widget
    return widget.render(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/widgets.py", line 320, in get_context
    "rendered_widget": self.widget.render(name, value, attrs),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 758, in get_context
    context = super().get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 717, in get_context
    context["widget"]["optgroups"] = self.optgroups(
                                     ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 657, in optgroups
    for index, (option_value, option_label) in enumerate(self.choices):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/models.py", line 1403, in __iter__
    for obj in queryset:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 516, in _iterator
    yield from iterable
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1565, in execute_sql
    cursor.close()
psycopg2.errors.InvalidCursorName: cursor "_django_curs_123145402806272_sync_3" does not exist

ERROR 2025-09-25 17:32:43,438 basehttp 10964 123145402806272 "GET /admin/orders/order/add/ HTTP/1.1" 500 737584
INFO 2025-09-25 17:32:44,548 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 17:32:45,661 log 10964 123145402806272 Internal Server Error: /admin/orders/orderstatushistory/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "orders" does not exist
LINE 1: ...rders"."shipped_at", "orders"."delivered_at" FROM "orders" O...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "orders" does not exist
LINE 1: ...rders"."shipped_at", "orders"."delivered_at" FROM "orders" O...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1070, in render
    return render_value_in_context(output, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1047, in render_value_in_context
    value = str(value)
            ^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/html.py", line 420, in <lambda>
    klass.__str__ = lambda self: mark_safe(klass_str(self))
                                           ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 34, in __str__
    return self.as_widget()
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 107, in as_widget
    return widget.render(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/widgets.py", line 320, in get_context
    "rendered_widget": self.widget.render(name, value, attrs),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 758, in get_context
    context = super().get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 717, in get_context
    context["widget"]["optgroups"] = self.optgroups(
                                     ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 657, in optgroups
    for index, (option_value, option_label) in enumerate(self.choices):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/models.py", line 1403, in __iter__
    for obj in queryset:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 516, in _iterator
    yield from iterable
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1565, in execute_sql
    cursor.close()
psycopg2.errors.InvalidCursorName: cursor "_django_curs_123145402806272_sync_4" does not exist

ERROR 2025-09-25 17:32:45,667 basehttp 10964 123145402806272 "GET /admin/orders/orderstatushistory/add/ HTTP/1.1" 500 727593
INFO 2025-09-25 17:32:46,566 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 17:32:47,685 log 10964 123145402806272 Internal Server Error: /admin/orders/orderitem/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "orders" does not exist
LINE 1: ...rders"."shipped_at", "orders"."delivered_at" FROM "orders" O...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "orders" does not exist
LINE 1: ...rders"."shipped_at", "orders"."delivered_at" FROM "orders" O...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1070, in render
    return render_value_in_context(output, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1047, in render_value_in_context
    value = str(value)
            ^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/html.py", line 420, in <lambda>
    klass.__str__ = lambda self: mark_safe(klass_str(self))
                                           ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 34, in __str__
    return self.as_widget()
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 107, in as_widget
    return widget.render(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/widgets.py", line 320, in get_context
    "rendered_widget": self.widget.render(name, value, attrs),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 758, in get_context
    context = super().get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 717, in get_context
    context["widget"]["optgroups"] = self.optgroups(
                                     ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 657, in optgroups
    for index, (option_value, option_label) in enumerate(self.choices):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/models.py", line 1403, in __iter__
    for obj in queryset:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 516, in _iterator
    yield from iterable
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1565, in execute_sql
    cursor.close()
psycopg2.errors.InvalidCursorName: cursor "_django_curs_123145402806272_sync_5" does not exist

ERROR 2025-09-25 17:32:47,689 basehttp 10964 123145402806272 "GET /admin/orders/orderitem/add/ HTTP/1.1" 500 727584
INFO 2025-09-25 17:32:48,804 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 17:32:50,396 log 10964 123145402806272 Internal Server Error: /admin/products/category/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "categories" does not exist
LINE 1: ...ies"."created_at", "categories"."updated_at" FROM "categorie...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "categories" does not exist
LINE 1: ...ies"."created_at", "categories"."updated_at" FROM "categorie...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1070, in render
    return render_value_in_context(output, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1047, in render_value_in_context
    value = str(value)
            ^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/html.py", line 420, in <lambda>
    klass.__str__ = lambda self: mark_safe(klass_str(self))
                                           ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 34, in __str__
    return self.as_widget()
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 107, in as_widget
    return widget.render(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/widgets.py", line 320, in get_context
    "rendered_widget": self.widget.render(name, value, attrs),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 758, in get_context
    context = super().get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 717, in get_context
    context["widget"]["optgroups"] = self.optgroups(
                                     ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 657, in optgroups
    for index, (option_value, option_label) in enumerate(self.choices):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/models.py", line 1403, in __iter__
    for obj in queryset:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 516, in _iterator
    yield from iterable
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1565, in execute_sql
    cursor.close()
psycopg2.errors.InvalidCursorName: cursor "_django_curs_123145402806272_sync_6" does not exist

ERROR 2025-09-25 17:32:50,400 basehttp 10964 123145402806272 "GET /admin/products/category/add/ HTTP/1.1" 500 730257
INFO 2025-09-25 17:32:51,317 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 17:32:52,307 log 10964 123145402806272 Internal Server Error: /admin/products/productimage/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "products" does not exist
LINE 1: ...ducts"."created_at", "products"."updated_at" FROM "products"...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "products" does not exist
LINE 1: ...ducts"."created_at", "products"."updated_at" FROM "products"...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1070, in render
    return render_value_in_context(output, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1047, in render_value_in_context
    value = str(value)
            ^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/html.py", line 420, in <lambda>
    klass.__str__ = lambda self: mark_safe(klass_str(self))
                                           ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 34, in __str__
    return self.as_widget()
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 107, in as_widget
    return widget.render(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/widgets.py", line 320, in get_context
    "rendered_widget": self.widget.render(name, value, attrs),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 758, in get_context
    context = super().get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 717, in get_context
    context["widget"]["optgroups"] = self.optgroups(
                                     ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 657, in optgroups
    for index, (option_value, option_label) in enumerate(self.choices):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/models.py", line 1403, in __iter__
    for obj in queryset:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 516, in _iterator
    yield from iterable
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1565, in execute_sql
    cursor.close()
psycopg2.errors.InvalidCursorName: cursor "_django_curs_123145402806272_sync_7" does not exist

ERROR 2025-09-25 17:32:52,312 basehttp 10964 123145402806272 "GET /admin/products/productimage/add/ HTTP/1.1" 500 727749
INFO 2025-09-25 17:32:53,261 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 17:32:54,279 log 10964 123145402806272 Internal Server Error: /admin/products/product/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "categories" does not exist
LINE 1: ...ies"."created_at", "categories"."updated_at" FROM "categorie...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "categories" does not exist
LINE 1: ...ies"."created_at", "categories"."updated_at" FROM "categorie...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1070, in render
    return render_value_in_context(output, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1047, in render_value_in_context
    value = str(value)
            ^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/html.py", line 420, in <lambda>
    klass.__str__ = lambda self: mark_safe(klass_str(self))
                                           ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 34, in __str__
    return self.as_widget()
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 107, in as_widget
    return widget.render(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/widgets.py", line 320, in get_context
    "rendered_widget": self.widget.render(name, value, attrs),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 758, in get_context
    context = super().get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 717, in get_context
    context["widget"]["optgroups"] = self.optgroups(
                                     ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 657, in optgroups
    for index, (option_value, option_label) in enumerate(self.choices):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/models.py", line 1403, in __iter__
    for obj in queryset:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 516, in _iterator
    yield from iterable
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1565, in execute_sql
    cursor.close()
psycopg2.errors.InvalidCursorName: cursor "_django_curs_123145402806272_sync_8" does not exist

ERROR 2025-09-25 17:32:54,282 basehttp 10964 123145402806272 "GET /admin/products/product/add/ HTTP/1.1" 500 730958
INFO 2025-09-25 17:32:55,247 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 17:32:59,051 basehttp 10964 123145402806272 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14137
INFO 2025-09-25 17:32:59,139 basehttp 10964 123145402806272 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:33:11,689 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 17:33:14,630 basehttp 10964 123145402806272 "GET /admin/notifications/notificationtemplate/add/ HTTP/1.1" 200 16660
INFO 2025-09-25 17:33:14,681 basehttp 10964 123145402806272 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:33:16,334 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 17:33:17,945 log 10964 123145402806272 Internal Server Error: /admin/notifications/notification/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "orders" does not exist
LINE 1: ...rders"."shipped_at", "orders"."delivered_at" FROM "orders" O...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "orders" does not exist
LINE 1: ...rders"."shipped_at", "orders"."delivered_at" FROM "orders" O...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1070, in render
    return render_value_in_context(output, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1047, in render_value_in_context
    value = str(value)
            ^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/html.py", line 420, in <lambda>
    klass.__str__ = lambda self: mark_safe(klass_str(self))
                                           ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 34, in __str__
    return self.as_widget()
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 107, in as_widget
    return widget.render(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/widgets.py", line 320, in get_context
    "rendered_widget": self.widget.render(name, value, attrs),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 758, in get_context
    context = super().get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 717, in get_context
    context["widget"]["optgroups"] = self.optgroups(
                                     ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 657, in optgroups
    for index, (option_value, option_label) in enumerate(self.choices):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/models.py", line 1403, in __iter__
    for obj in queryset:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 516, in _iterator
    yield from iterable
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1565, in execute_sql
    cursor.close()
psycopg2.errors.InvalidCursorName: cursor "_django_curs_123145402806272_sync_10" does not exist

ERROR 2025-09-25 17:33:17,949 basehttp 10964 123145402806272 "GET /admin/notifications/notification/add/ HTTP/1.1" 500 733452
INFO 2025-09-25 17:33:43,447 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
ERROR 2025-09-25 17:33:49,743 log 10964 123145402806272 Internal Server Error: /admin/notifications/notification/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "orders" does not exist
LINE 1: ...rders"."shipped_at", "orders"."delivered_at" FROM "orders" O...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "orders" does not exist
LINE 1: ...rders"."shipped_at", "orders"."delivered_at" FROM "orders" O...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1070, in render
    return render_value_in_context(output, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1047, in render_value_in_context
    value = str(value)
            ^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/html.py", line 420, in <lambda>
    klass.__str__ = lambda self: mark_safe(klass_str(self))
                                           ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 34, in __str__
    return self.as_widget()
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/boundfield.py", line 107, in as_widget
    return widget.render(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/widgets.py", line 320, in get_context
    "rendered_widget": self.widget.render(name, value, attrs),
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 280, in render
    context = self.get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 758, in get_context
    context = super().get_context(name, value, attrs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 717, in get_context
    context["widget"]["optgroups"] = self.optgroups(
                                     ^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/widgets.py", line 657, in optgroups
    for index, (option_value, option_label) in enumerate(self.choices):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/forms/models.py", line 1403, in __iter__
    for obj in queryset:
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 516, in _iterator
    yield from iterable
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/sql/compiler.py", line 1565, in execute_sql
    cursor.close()
psycopg2.errors.InvalidCursorName: cursor "_django_curs_123145402806272_sync_12" does not exist

ERROR 2025-09-25 17:33:49,747 basehttp 10964 123145402806272 "GET /admin/notifications/notification/add/ HTTP/1.1" 500 733452
INFO 2025-09-25 17:34:12,022 basehttp 10964 123145402806272 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 17:37:01,327 autoreload 12877 140704264179712 Watching for file changes with StatReloader
INFO 2025-09-25 17:37:08,058 basehttp 12877 123145462145024 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 17:37:09,957 basehttp 12877 123145462145024 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 17:37:12,921 basehttp 12877 123145462145024 "GET /admin/notifications/notificationtemplate/ HTTP/1.1" 200 13688
INFO 2025-09-25 17:37:12,991 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:37:20,355 basehttp 12877 123145462145024 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 17:37:22,544 basehttp 12877 123145462145024 "GET /admin/notifications/notification/add/ HTTP/1.1" 200 23061
INFO 2025-09-25 17:37:22,599 basehttp 12877 123145478934528 "GET /static/admin/js/collapse.js HTTP/1.1" 200 1803
INFO 2025-09-25 17:37:22,609 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
ERROR 2025-09-25 17:37:26,325 log 12877 123145462145024 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/options.py", line 681, in get_field
    return self.fields_map[field_name]
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 272, in lookup_field
    f = _get_non_gfk_field(opts, name)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 303, in _get_non_gfk_field
    field = opts.get_field(name)
            ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/options.py", line 683, in get_field
    raise FieldDoesNotExist(
django.core.exceptions.FieldDoesNotExist: OrderItem has no field named 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 1064, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 715, in resolve
    obj = self.var.resolve(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 847, in resolve
    value = self._resolve_lookup(context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/template/base.py", line 914, in _resolve_lookup
    current = current()
              ^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/helpers.py", line 273, in contents
    f, attr, value = lookup_field(field, obj, model_admin)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 283, in lookup_field
    attr = getattr(obj, name)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 210, in total_price
    return self.unit_price * self.quantity
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for *: 'NoneType' and 'NoneType'
ERROR 2025-09-25 17:37:26,330 basehttp 12877 123145462145024 "GET /admin/orders/order/add/ HTTP/1.1" 500 686305
INFO 2025-09-25 17:37:27,689 basehttp 12877 123145462145024 "GET /admin/notifications/notification/add/ HTTP/1.1" 200 23061
INFO 2025-09-25 17:37:30,623 basehttp 12877 123145462145024 "GET /admin/products/product/add/ HTTP/1.1" 200 29239
INFO 2025-09-25 17:37:30,670 basehttp 12877 123145495724032 "GET /static/admin/img/icon-deletelink.svg HTTP/1.1" 200 392
INFO 2025-09-25 17:37:30,674 basehttp 12877 123145478934528 "GET /static/admin/js/inlines.js HTTP/1.1" 200 15526
INFO 2025-09-25 17:37:30,679 basehttp 12877 123145478934528 "GET /static/admin/img/icon-unknown.svg HTTP/1.1" 200 655
INFO 2025-09-25 17:37:30,689 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:37:30,912 basehttp 12877 123145462145024 "GET /static/admin/img/inline-delete.svg HTTP/1.1" 200 560
INFO 2025-09-25 17:37:38,570 basehttp 12877 123145462145024 "GET /admin/notifications/notification/add/ HTTP/1.1" 200 23061
INFO 2025-09-25 17:37:39,475 basehttp 12877 123145462145024 "GET /admin/ HTTP/1.1" 200 10883
INFO 2025-09-25 17:38:10,206 basehttp 12877 123145462145024 "GET /admin/products/category/add/ HTTP/1.1" 200 17244
INFO 2025-09-25 17:38:10,273 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:38:49,397 basehttp 12877 123145462145024 "POST /admin/products/category/add/ HTTP/1.1" 302 0
INFO 2025-09-25 17:38:49,433 basehttp 12877 123145462145024 "GET /admin/products/category/ HTTP/1.1" 200 15768
INFO 2025-09-25 17:38:49,513 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:38:57,668 basehttp 12877 123145462145024 "GET /admin/products/category/add/ HTTP/1.1" 200 17281
INFO 2025-09-25 17:38:57,735 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:02,319 basehttp 12877 123145462145024 "POST /admin/products/category/add/ HTTP/1.1" 302 0
INFO 2025-09-25 17:39:02,350 basehttp 12877 123145462145024 "GET /admin/products/category/ HTTP/1.1" 200 16292
INFO 2025-09-25 17:39:02,420 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:09,982 basehttp 12877 123145462145024 "GET /admin/products/category/add/ HTTP/1.1" 200 17317
INFO 2025-09-25 17:39:10,035 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:13,752 basehttp 12877 123145462145024 "POST /admin/products/category/add/ HTTP/1.1" 302 0
INFO 2025-09-25 17:39:13,788 basehttp 12877 123145462145024 "GET /admin/products/category/ HTTP/1.1" 200 16836
INFO 2025-09-25 17:39:13,853 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:19,645 basehttp 12877 123145462145024 "GET /admin/products/category/add/ HTTP/1.1" 200 17360
INFO 2025-09-25 17:39:19,699 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:24,019 basehttp 12877 123145462145024 "POST /admin/products/category/add/ HTTP/1.1" 302 0
INFO 2025-09-25 17:39:24,052 basehttp 12877 123145462145024 "GET /admin/products/category/ HTTP/1.1" 200 17358
INFO 2025-09-25 17:39:24,115 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:29,127 basehttp 12877 123145462145024 "GET /admin/products/category/add/ HTTP/1.1" 200 17398
INFO 2025-09-25 17:39:29,186 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:33,652 basehttp 12877 123145462145024 "POST /admin/products/category/add/ HTTP/1.1" 302 0
INFO 2025-09-25 17:39:33,688 basehttp 12877 123145462145024 "GET /admin/products/category/ HTTP/1.1" 200 17885
INFO 2025-09-25 17:39:33,750 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:38,831 basehttp 12877 123145462145024 "GET /admin/products/category/add/ HTTP/1.1" 200 17436
INFO 2025-09-25 17:39:38,891 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:43,902 basehttp 12877 123145462145024 "POST /admin/products/category/add/ HTTP/1.1" 302 0
INFO 2025-09-25 17:39:43,939 basehttp 12877 123145462145024 "GET /admin/products/category/ HTTP/1.1" 200 18409
INFO 2025-09-25 17:39:44,002 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:50,433 basehttp 12877 123145462145024 "GET /admin/products/category/add/ HTTP/1.1" 200 17473
INFO 2025-09-25 17:39:50,486 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:39:54,560 basehttp 12877 123145462145024 "POST /admin/products/category/add/ HTTP/1.1" 302 0
INFO 2025-09-25 17:39:54,596 basehttp 12877 123145462145024 "GET /admin/products/category/ HTTP/1.1" 200 18946
INFO 2025-09-25 17:39:54,659 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:40:09,005 basehttp 12877 123145462145024 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14137
INFO 2025-09-25 17:40:09,062 basehttp 12877 123145462145024 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:40:45,481 autoreload 13369 140704264179712 Watching for file changes with StatReloader
INFO 2025-09-25 17:44:01,586 basehttp 13369 123145355309056 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14137
INFO 2025-09-25 17:44:01,660 basehttp 13369 123145355309056 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:44:10,828 basehttp 13369 123145355309056 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14137
INFO 2025-09-25 17:44:10,883 basehttp 13369 123145355309056 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:44:11,758 basehttp 13369 123145355309056 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14137
INFO 2025-09-25 17:44:11,808 basehttp 13369 123145355309056 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:46:01,288 basehttp 13369 123145355309056 "POST /admin/customers/customer/add/ HTTP/1.1" 200 14319
INFO 2025-09-25 17:46:01,358 basehttp 13369 123145355309056 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:46:19,260 basehttp 13369 123145355309056 "POST /admin/customers/customer/add/ HTTP/1.1" 200 14461
INFO 2025-09-25 17:46:19,313 basehttp 13369 123145355309056 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:46:48,198 basehttp 13369 123145355309056 "POST /admin/customers/customer/add/ HTTP/1.1" 200 14461
INFO 2025-09-25 17:46:48,249 basehttp 13369 123145355309056 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:47:06,427 basehttp 13369 123145355309056 "POST /admin/customers/customer/add/ HTTP/1.1" 200 14374
INFO 2025-09-25 17:47:06,482 basehttp 13369 123145355309056 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:47:17,724 signals 13369 123145355309056 New customer created: 
ERROR 2025-09-25 17:47:18,455 log 13369 123145355309056 Internal Server Error: /admin/customers/customer/add/
Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/utils/functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/connection.py", line 938, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/transport/pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/amqp/connection.py", line 324, in connect
    self.transport.connect()
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/amqp/transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/amqp/transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/views/decorators/debug.py", line 92, in sensitive_post_parameters_wrapper
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/auth/admin.py", line 119, in add_view
    return self._add_view(request, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/auth/admin.py", line 147, in _add_view
    return super().add_view(request, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1886, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1747, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1798, in _changeform_view
    self.save_model(request, new_object, form, not add)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1227, in save_model
    obj.save()
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/contrib/auth/base_user.py", line 76, in save
    super().save(*args, **kwargs)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/customers/signals.py", line 23, in customer_created
    send_welcome_message_async.delay(instance.id)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/celery/app/base.py", line 798, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/celery/app/amqp.py", line 517, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/messaging.py", line 190, in publish
    return _publish(
           ^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/messaging.py", line 200, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/messaging.py", line 224, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/utils/functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/messaging.py", line 240, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/connection.py", line 957, in default_channel
    self._ensure_connection(**conn_opts)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/connection.py", line 458, in _ensure_connection
    with ctx():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/dennismureti/Downloads/ecommerce-api/venv/lib/python3.11/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [Errno 61] Connection refused
ERROR 2025-09-25 17:47:18,463 basehttp 13369 123145355309056 "POST /admin/customers/customer/add/ HTTP/1.1" 500 312162
INFO 2025-09-25 17:49:20,214 autoreload 13369 140704264179712 /Users/dennismureti/Downloads/ecommerce-api/customers/signals.py changed, reloading.
INFO 2025-09-25 17:49:21,135 autoreload 13543 140704264179712 Watching for file changes with StatReloader
INFO 2025-09-25 17:49:22,554 autoreload 13543 140704264179712 /Users/dennismureti/Downloads/ecommerce-api/customers/signals.py changed, reloading.
INFO 2025-09-25 17:49:23,146 autoreload 13551 140704264179712 Watching for file changes with StatReloader
INFO 2025-09-25 17:49:24,561 autoreload 13551 140704264179712 /Users/dennismureti/Downloads/ecommerce-api/customers/signals.py changed, reloading.
INFO 2025-09-25 17:49:25,159 autoreload 13553 140704264179712 Watching for file changes with StatReloader
INFO 2025-09-25 17:49:26,571 autoreload 13553 140704264179712 /Users/dennismureti/Downloads/ecommerce-api/customers/signals.py changed, reloading.
INFO 2025-09-25 17:49:27,284 autoreload 13557 140704264179712 Watching for file changes with StatReloader
INFO 2025-09-25 17:49:28,925 signals 13557 123145600491520 New customer created: 
WARNING 2025-09-25 17:49:29,553 signals 13557 123145600491520 Could not send welcome message (Celery may not be running): [Errno 61] Connection refused
INFO 2025-09-25 17:49:29,578 basehttp 13557 123145600491520 "POST /admin/customers/customer/add/ HTTP/1.1" 302 0
INFO 2025-09-25 17:49:29,636 basehttp 13557 123145600491520 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14388
INFO 2025-09-25 17:49:29,697 basehttp 13557 123145600491520 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:50:01,445 basehttp 13557 123145600491520 "POST /admin/customers/customer/add/ HTTP/1.1" 200 14375
INFO 2025-09-25 17:50:01,508 basehttp 13557 123145600491520 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:50:06,926 basehttp 13557 123145600491520 "POST /admin/customers/customer/add/ HTTP/1.1" 200 14370
INFO 2025-09-25 17:50:06,974 basehttp 13557 123145600491520 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-25 17:50:19,873 signals 13557 123145600491520 New customer created: 
WARNING 2025-09-25 17:50:20,482 signals 13557 123145600491520 Could not send welcome message (Celery may not be running): [Errno 61] Connection refused
INFO 2025-09-25 17:50:20,488 basehttp 13557 123145600491520 "POST /admin/customers/customer/add/ HTTP/1.1" 302 0
INFO 2025-09-25 17:50:20,516 basehttp 13557 123145600491520 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14389
INFO 2025-09-25 17:50:20,584 basehttp 13557 123145600491520 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:15:29,687 autoreload 1506 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 09:16:50,704 basehttp 1506 123145497047040 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14137
INFO 2025-09-26 09:16:50,785 basehttp 1506 123145530626048 "GET /static/admin/css/nav_sidebar.css HTTP/1.1" 200 2694
INFO 2025-09-26 09:16:50,787 basehttp 1506 123145547415552 "GET /static/admin/css/dark_mode.css HTTP/1.1" 200 2929
INFO 2025-09-26 09:16:50,787 basehttp 1506 123145580994560 "GET /static/admin/js/jquery.init.js HTTP/1.1" 200 347
INFO 2025-09-26 09:16:50,794 basehttp 1506 123145497047040 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:16:50,795 basehttp 1506 123145513836544 "GET /static/admin/css/base.css HTTP/1.1" 200 21207
INFO 2025-09-26 09:16:50,797 basehttp 1506 123145564205056 "GET /static/admin/css/forms.css HTTP/1.1" 200 9047
INFO 2025-09-26 09:16:50,806 basehttp 1506 123145580994560 "GET /static/admin/js/core.js HTTP/1.1" 200 5682
INFO 2025-09-26 09:16:50,808 basehttp 1506 123145530626048 "GET /static/admin/css/responsive.css HTTP/1.1" 200 18533
INFO 2025-09-26 09:16:50,809 basehttp 1506 123145513836544 "GET /static/admin/js/prepopulate.js HTTP/1.1" 200 1531
INFO 2025-09-26 09:16:50,814 basehttp 1506 123145564205056 "GET /static/admin/js/actions.js HTTP/1.1" 200 7872
INFO 2025-09-26 09:16:50,818 basehttp 1506 123145497047040 "GET /static/admin/js/admin/RelatedObjectLookups.js HTTP/1.1" 200 8943
INFO 2025-09-26 09:16:50,820 basehttp 1506 123145513836544 "GET /static/admin/js/prepopulate_init.js HTTP/1.1" 200 586
INFO 2025-09-26 09:16:50,822 basehttp 1506 123145580994560 "GET /static/admin/js/urlify.js HTTP/1.1" 200 7887
INFO 2025-09-26 09:16:50,831 basehttp 1506 123145547415552 "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 200 292458
INFO 2025-09-26 09:16:50,832 basehttp 1506 123145530626048 "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 200 232381
INFO 2025-09-26 09:16:50,853 basehttp 1506 123145530626048 "GET /static/admin/css/widgets.css HTTP/1.1" 200 11900
INFO 2025-09-26 09:16:50,856 basehttp 1506 123145547415552 "GET /static/admin/js/theme.js HTTP/1.1" 200 1943
INFO 2025-09-26 09:16:50,862 basehttp 1506 123145547415552 "GET /static/admin/js/nav_sidebar.js HTTP/1.1" 200 3063
INFO 2025-09-26 09:16:50,882 basehttp 1506 123145547415552 "GET /static/admin/js/change_form.js HTTP/1.1" 200 606
INFO 2025-09-26 09:16:50,908 basehttp 1506 123145547415552 "GET /static/admin/img/icon-addlink.svg HTTP/1.1" 200 331
WARNING 2025-09-26 09:16:51,084 log 1506 123145547415552 Not Found: /favicon.ico
WARNING 2025-09-26 09:16:51,084 basehttp 1506 123145547415552 "GET /favicon.ico HTTP/1.1" 404 2690
INFO 2025-09-26 09:17:04,315 basehttp 1506 123145547415552 "GET /admin/products/product/add/ HTTP/1.1" 200 29509
INFO 2025-09-26 09:17:04,358 basehttp 1506 123145530626048 "GET /static/admin/js/collapse.js HTTP/1.1" 200 1803
INFO 2025-09-26 09:17:04,358 basehttp 1506 123145497047040 "GET /static/admin/img/icon-changelink.svg HTTP/1.1" 200 380
INFO 2025-09-26 09:17:04,359 basehttp 1506 123145513836544 "GET /static/admin/img/icon-deletelink.svg HTTP/1.1" 200 392
INFO 2025-09-26 09:17:04,361 basehttp 1506 123145580994560 "GET /static/admin/js/inlines.js HTTP/1.1" 200 15526
INFO 2025-09-26 09:17:04,368 basehttp 1506 123145580994560 "GET /static/admin/img/icon-viewlink.svg HTTP/1.1" 200 581
INFO 2025-09-26 09:17:04,375 basehttp 1506 123145547415552 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:17:04,376 basehttp 1506 123145580994560 "GET /static/admin/img/icon-unknown.svg HTTP/1.1" 200 655
INFO 2025-09-26 09:17:04,471 basehttp 1506 123145580994560 "GET /static/admin/img/inline-delete.svg HTTP/1.1" 200 560
INFO 2025-09-26 09:17:30,931 basehttp 1506 123145580994560 "GET /admin/notifications/notification/add/ HTTP/1.1" 200 23156
INFO 2025-09-26 09:17:30,979 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:18:32,767 basehttp 1506 123145580994560 "GET /admin/notifications/notificationtemplate/add/ HTTP/1.1" 200 16660
INFO 2025-09-26 09:18:32,831 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:18:34,769 basehttp 1506 123145580994560 "GET /admin/notifications/notificationtemplate/add/ HTTP/1.1" 200 16660
INFO 2025-09-26 09:18:34,817 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:18:37,124 basehttp 1506 123145580994560 "GET /admin/notifications/notification/add/ HTTP/1.1" 200 23156
INFO 2025-09-26 09:18:37,189 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:18:38,561 basehttp 1506 123145580994560 "GET /admin/notifications/notificationtemplate/add/ HTTP/1.1" 200 16660
INFO 2025-09-26 09:18:38,607 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:19:06,832 basehttp 1506 123145580994560 "GET /admin/products/productimage/add/ HTTP/1.1" 200 16147
INFO 2025-09-26 09:19:06,889 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:19:09,327 basehttp 1506 123145580994560 "GET /admin/products/product/add/ HTTP/1.1" 200 29509
INFO 2025-09-26 09:19:09,376 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
ERROR 2025-09-26 09:19:14,056 log 1506 123145580994560 Internal Server Error: /admin/orders/orderitem/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 681, in get_field
    return self.fields_map[field_name]
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 272, in lookup_field
    f = _get_non_gfk_field(opts, name)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 303, in _get_non_gfk_field
    field = opts.get_field(name)
            ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 683, in get_field
    raise FieldDoesNotExist(
django.core.exceptions.FieldDoesNotExist: OrderItem has no field named 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1064, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 715, in resolve
    obj = self.var.resolve(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 847, in resolve
    value = self._resolve_lookup(context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 914, in _resolve_lookup
    current = current()
              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/helpers.py", line 273, in contents
    f, attr, value = lookup_field(field, obj, model_admin)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 283, in lookup_field
    attr = getattr(obj, name)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 210, in total_price
    return self.unit_price * self.quantity
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for *: 'NoneType' and 'NoneType'
ERROR 2025-09-26 09:19:14,063 basehttp 1506 123145580994560 "GET /admin/orders/orderitem/add/ HTTP/1.1" 500 677932
INFO 2025-09-26 09:19:15,572 basehttp 1506 123145580994560 "GET /admin/products/product/add/ HTTP/1.1" 200 29509
ERROR 2025-09-26 09:19:17,311 log 1506 123145580994560 Internal Server Error: /admin/orders/orderitem/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 681, in get_field
    return self.fields_map[field_name]
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 272, in lookup_field
    f = _get_non_gfk_field(opts, name)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 303, in _get_non_gfk_field
    field = opts.get_field(name)
            ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 683, in get_field
    raise FieldDoesNotExist(
django.core.exceptions.FieldDoesNotExist: OrderItem has no field named 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1064, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 715, in resolve
    obj = self.var.resolve(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 847, in resolve
    value = self._resolve_lookup(context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 914, in _resolve_lookup
    current = current()
              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/helpers.py", line 273, in contents
    f, attr, value = lookup_field(field, obj, model_admin)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 283, in lookup_field
    attr = getattr(obj, name)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 210, in total_price
    return self.unit_price * self.quantity
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for *: 'NoneType' and 'NoneType'
ERROR 2025-09-26 09:19:17,316 basehttp 1506 123145580994560 "GET /admin/orders/orderitem/add/ HTTP/1.1" 500 677932
INFO 2025-09-26 09:19:24,610 basehttp 1506 123145580994560 "GET /admin/products/product/add/ HTTP/1.1" 200 29509
INFO 2025-09-26 09:19:26,716 basehttp 1506 123145580994560 "GET /admin/orders/orderstatushistory/add/ HTTP/1.1" 200 18871
INFO 2025-09-26 09:19:26,770 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:19:28,163 basehttp 1506 123145580994560 "GET /admin/orders/orderstatushistory/add/ HTTP/1.1" 200 18871
INFO 2025-09-26 09:19:28,206 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
ERROR 2025-09-26 09:19:30,041 log 1506 123145580994560 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 681, in get_field
    return self.fields_map[field_name]
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 272, in lookup_field
    f = _get_non_gfk_field(opts, name)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 303, in _get_non_gfk_field
    field = opts.get_field(name)
            ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 683, in get_field
    raise FieldDoesNotExist(
django.core.exceptions.FieldDoesNotExist: OrderItem has no field named 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1064, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 715, in resolve
    obj = self.var.resolve(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 847, in resolve
    value = self._resolve_lookup(context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 914, in _resolve_lookup
    current = current()
              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/helpers.py", line 273, in contents
    f, attr, value = lookup_field(field, obj, model_admin)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 283, in lookup_field
    attr = getattr(obj, name)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 210, in total_price
    return self.unit_price * self.quantity
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for *: 'NoneType' and 'NoneType'
ERROR 2025-09-26 09:19:30,045 basehttp 1506 123145580994560 "GET /admin/orders/order/add/ HTTP/1.1" 500 685428
INFO 2025-09-26 09:19:34,568 basehttp 1506 123145580994560 "GET /admin/orders/orderstatushistory/add/ HTTP/1.1" 200 18871
INFO 2025-09-26 09:19:57,110 basehttp 1506 123145580994560 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14137
INFO 2025-09-26 09:19:57,171 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:20:49,592 basehttp 1506 123145580994560 "GET /admin/auth/group/add/ HTTP/1.1" 200 17712
INFO 2025-09-26 09:20:49,648 basehttp 1506 123145547415552 "GET /static/admin/js/SelectBox.js HTTP/1.1" 200 4530
INFO 2025-09-26 09:20:49,651 basehttp 1506 123145513836544 "GET /static/admin/js/SelectFilter2.js HTTP/1.1" 200 15292
INFO 2025-09-26 09:20:49,681 basehttp 1506 123145580994560 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:20:49,826 basehttp 1506 123145580994560 "GET /static/admin/img/selector-icons.svg HTTP/1.1" 200 3291
INFO 2025-09-26 09:20:49,827 basehttp 1506 123145547415552 "GET /static/admin/img/search.svg HTTP/1.1" 200 458
INFO 2025-09-26 09:20:49,828 basehttp 1506 123145513836544 "GET /static/admin/img/icon-unknown-alt.svg HTTP/1.1" 200 655
INFO 2025-09-26 09:21:04,576 basehttp 1506 123145513836544 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14137
INFO 2025-09-26 09:21:04,641 basehttp 1506 123145513836544 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:21:09,440 basehttp 1506 123145513836544 "GET /admin/auth/group/add/ HTTP/1.1" 200 17712
INFO 2025-09-26 09:21:13,877 basehttp 1506 123145513836544 "GET /admin/auth/group/ HTTP/1.1" 200 11329
INFO 2025-09-26 09:21:13,912 basehttp 1506 123145547415552 "GET /static/admin/css/changelists.css HTTP/1.1" 200 6566
INFO 2025-09-26 09:21:13,922 basehttp 1506 123145547415552 "GET /static/admin/js/filters.js HTTP/1.1" 200 978
INFO 2025-09-26 09:21:13,970 basehttp 1506 123145513836544 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 09:21:14,002 basehttp 1506 123145513836544 "GET /static/admin/img/tooltag-add.svg HTTP/1.1" 200 331
INFO 2025-09-26 09:21:14,590 basehttp 1506 123145513836544 "GET /admin/auth/ HTTP/1.1" 200 5176
INFO 2025-09-26 09:21:14,644 basehttp 1506 123145513836544 "GET /static/admin/css/dashboard.css HTTP/1.1" 200 441
INFO 2025-09-26 09:21:19,563 basehttp 1506 123145513836544 "GET /admin/auth/group/ HTTP/1.1" 200 11329
INFO 2025-09-26 09:21:23,892 basehttp 1506 123145513836544 "GET /admin/customers/customer/add/ HTTP/1.1" 200 14137
INFO 2025-09-26 09:21:23,938 basehttp 1506 123145513836544 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 10:09:17,626 basehttp 1506 123145497047040 "GET /admin/notifications/notification/add/ HTTP/1.1" 200 23156
INFO 2025-09-26 10:09:17,707 basehttp 1506 123145497047040 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 10:10:44,164 basehttp 1506 123145497047040 "POST /admin/notifications/notification/add/ HTTP/1.1" 302 0
INFO 2025-09-26 10:10:44,205 basehttp 1506 123145497047040 "GET /admin/notifications/notification/add/ HTTP/1.1" 200 23440
INFO 2025-09-26 10:10:44,321 basehttp 1506 123145497047040 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 10:10:44,701 basehttp 1506 123145497047040 "GET /static/admin/img/icon-yes.svg HTTP/1.1" 200 436
INFO 2025-09-26 10:10:53,579 basehttp 1506 123145497047040 "GET /admin/notifications/notificationtemplate/ HTTP/1.1" 200 13688
INFO 2025-09-26 10:10:53,634 basehttp 1506 123145497047040 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 10:10:56,882 basehttp 1506 123145497047040 "GET /admin/notifications/notification/ HTTP/1.1" 200 16578
INFO 2025-09-26 10:10:56,937 basehttp 1506 123145497047040 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 10:10:56,974 basehttp 1506 123145497047040 "GET /static/admin/img/sorting-icons.svg HTTP/1.1" 200 1097
INFO 2025-09-26 10:11:09,247 basehttp 1506 123145497047040 "GET /admin/notifications/notificationtemplate/ HTTP/1.1" 200 13688
INFO 2025-09-26 10:11:09,294 basehttp 1506 123145497047040 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 10:11:10,773 basehttp 1506 123145497047040 "GET /admin/customers/customer/ HTTP/1.1" 200 16909
INFO 2025-09-26 10:11:10,829 basehttp 1506 123145497047040 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 10:11:14,070 basehttp 1506 123145497047040 "GET /admin/orders/order/ HTTP/1.1" 200 14125
INFO 2025-09-26 10:11:14,116 basehttp 1506 123145497047040 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 10:11:16,524 basehttp 1506 123145497047040 "GET /admin/orders/orderitem/ HTTP/1.1" 200 12249
INFO 2025-09-26 10:11:16,580 basehttp 1506 123145497047040 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 10:11:18,039 basehttp 1506 123145497047040 "GET /admin/orders/orderstatushistory/ HTTP/1.1" 200 13697
INFO 2025-09-26 10:11:18,084 basehttp 1506 123145497047040 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 10:13:44,664 middleware 1506 123145513836544 Auth request: GET /api/auth/oidc-login/callback/ from 127.0.0.1
WARNING 2025-09-26 10:13:44,674 middleware 1506 123145513836544 Auth failed: GET /api/auth/oidc-login/callback/ - 404
WARNING 2025-09-26 10:13:44,674 log 1506 123145513836544 Not Found: /api/auth/oidc-login/callback/
WARNING 2025-09-26 10:13:44,675 basehttp 1506 123145513836544 "GET /api/auth/oidc-login/callback/ HTTP/1.1" 404 3956
INFO 2025-09-26 10:14:23,598 middleware 1506 123145530626048 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
ERROR 2025-09-26 10:14:23,742 log 1506 123145530626048 Internal Server Error: /api/auth/oidc-login/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 627, in _connect
    raise err
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 61] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/decorators/csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 416, in initial
    self.check_throttles(request)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 359, in check_throttles
    if not throttle.allow_request(request, self):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/throttling.py", line 123, in allow_request
    self.history = self.cache.get(self.key, [])
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/cache/backends/redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/cache/backends/redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/commands/core.py", line 1829, in get
    return self.execute_command("GET", name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 1086, in get_connection
    connection.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 61 connecting to 127.0.0.1:6379. Connection refused.
WARNING 2025-09-26 10:14:23,749 middleware 1506 123145530626048 Auth failed: GET /api/auth/oidc-login/ - 500
ERROR 2025-09-26 10:14:23,750 basehttp 1506 123145530626048 "GET /api/auth/oidc-login/ HTTP/1.1" 500 151787
WARNING 2025-09-26 10:14:24,013 log 1506 123145530626048 Not Found: /favicon.ico
WARNING 2025-09-26 10:14:24,014 basehttp 1506 123145530626048 "GET /favicon.ico HTTP/1.1" 404 2690
INFO 2025-09-26 10:17:14,464 middleware 1506 123145547415552 Auth request: GET /api/auth/oidc-login/callback/ from 127.0.0.1
WARNING 2025-09-26 10:17:14,471 middleware 1506 123145547415552 Auth failed: GET /api/auth/oidc-login/callback/ - 404
WARNING 2025-09-26 10:17:14,471 log 1506 123145547415552 Not Found: /api/auth/oidc-login/callback/
WARNING 2025-09-26 10:17:14,471 basehttp 1506 123145547415552 "GET /api/auth/oidc-login/callback/ HTTP/1.1" 404 3956
INFO 2025-09-26 10:17:16,734 middleware 1506 123145547415552 Auth request: GET /api/auth/oidc-login/callback/ from 127.0.0.1
WARNING 2025-09-26 10:17:16,739 middleware 1506 123145547415552 Auth failed: GET /api/auth/oidc-login/callback/ - 404
WARNING 2025-09-26 10:17:16,739 log 1506 123145547415552 Not Found: /api/auth/oidc-login/callback/
WARNING 2025-09-26 10:17:16,739 basehttp 1506 123145547415552 "GET /api/auth/oidc-login/callback/ HTTP/1.1" 404 3956
INFO 2025-09-26 10:18:48,498 autoreload 1506 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:18:50,517 autoreload 2881 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:19:15,448 autoreload 2881 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/ecommerce/settings.py changed, reloading.
INFO 2025-09-26 10:19:16,337 autoreload 2893 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:21:44,146 autoreload 2893 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:21:45,179 autoreload 2942 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:22:07,354 autoreload 2958 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:23:26,692 autoreload 2958 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:23:27,579 autoreload 2973 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:23:35,094 autoreload 2973 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:23:35,603 autoreload 2981 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:24:01,538 autoreload 2981 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:24:02,099 autoreload 2985 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:24:10,561 autoreload 2985 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:24:11,104 autoreload 2990 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:24:25,694 autoreload 2990 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:24:26,353 autoreload 2994 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:24:50,190 autoreload 2994 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:24:50,960 autoreload 3002 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:24:57,366 autoreload 3002 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:24:57,932 autoreload 3007 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:25:50,845 autoreload 3034 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:26:25,935 autoreload 3034 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:26:26,513 autoreload 3045 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:26:34,912 autoreload 3045 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:26:35,605 autoreload 3052 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:26:39,925 autoreload 3052 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:26:40,463 autoreload 3057 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:26:52,981 autoreload 3057 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:26:54,056 autoreload 3060 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:27:19,020 autoreload 3060 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:27:19,971 autoreload 3065 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:27:22,269 autoreload 3065 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:27:22,838 autoreload 3070 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:27:33,308 autoreload 3070 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:27:33,853 autoreload 3075 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:27:38,151 autoreload 3075 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:27:38,655 autoreload 3078 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:27:59,364 autoreload 3078 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:27:59,889 autoreload 3083 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:28:01,313 autoreload 3083 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:28:01,949 autoreload 3086 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:28:13,493 autoreload 3086 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:28:14,067 autoreload 3089 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:29:09,710 autoreload 3089 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:29:10,722 autoreload 3102 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:29:13,179 autoreload 3102 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:29:13,772 autoreload 3105 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:29:34,566 autoreload 3105 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 10:29:35,110 autoreload 3111 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:29:37,290 middleware 3111 123145416683520 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
ERROR 2025-09-26 10:29:37,400 log 3111 123145416683520 Internal Server Error: /api/auth/oidc-login/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 627, in _connect
    raise err
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 61] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/decorators/csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 416, in initial
    self.check_throttles(request)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/views.py", line 359, in check_throttles
    if not throttle.allow_request(request, self):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/throttling.py", line 123, in allow_request
    self.history = self.cache.get(self.key, [])
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/cache/backends/redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/cache/backends/redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/commands/core.py", line 1829, in get
    return self.execute_command("GET", name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 1086, in get_connection
    connection.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/redis/connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 61 connecting to 127.0.0.1:6379. Connection refused.
WARNING 2025-09-26 10:29:37,404 middleware 3111 123145416683520 Auth failed: GET /api/auth/oidc-login/ - 500
ERROR 2025-09-26 10:29:37,404 basehttp 3111 123145416683520 "GET /api/auth/oidc-login/ HTTP/1.1" 500 153277
INFO 2025-09-26 10:37:41,106 autoreload 3883 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 10:37:41,631 middleware 3883 123145434681344 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
WARNING 2025-09-26 10:37:41,641 middleware 3883 123145434681344 Auth failed: GET /api/auth/oidc-login/ - 405
WARNING 2025-09-26 10:37:41,641 log 3883 123145434681344 Method Not Allowed: /api/auth/oidc-login/
WARNING 2025-09-26 10:37:41,641 basehttp 3883 123145434681344 "GET /api/auth/oidc-login/ HTTP/1.1" 405 40
INFO 2025-09-26 10:37:48,432 middleware 3883 123145434681344 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
WARNING 2025-09-26 10:37:48,433 middleware 3883 123145434681344 Auth failed: GET /api/auth/oidc-login/ - 405
WARNING 2025-09-26 10:37:48,434 log 3883 123145434681344 Method Not Allowed: /api/auth/oidc-login/
WARNING 2025-09-26 10:37:48,434 basehttp 3883 123145434681344 "GET /api/auth/oidc-login/ HTTP/1.1" 405 40
INFO 2025-09-26 12:29:08,994 autoreload 3883 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:29:10,084 autoreload 4797 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 12:29:27,873 autoreload 4797 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:29:28,476 autoreload 4804 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 12:29:29,988 autoreload 4804 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:29:30,591 autoreload 4810 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 12:29:33,877 autoreload 4810 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:29:34,533 autoreload 4814 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 12:29:38,097 autoreload 4814 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:29:38,777 autoreload 4816 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 12:29:43,108 autoreload 4816 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:29:43,735 autoreload 4821 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 12:29:47,083 autoreload 4821 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:29:47,692 autoreload 4825 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 12:29:49,998 autoreload 4825 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:29:50,608 autoreload 4828 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 12:29:55,532 middleware 4828 123145587757056 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
INFO 2025-09-26 12:29:55,552 middleware 4828 123145587757056 Auth success: GET /api/auth/oidc-login/ - 302
INFO 2025-09-26 12:29:55,553 basehttp 4828 123145587757056 "GET /api/auth/oidc-login/ HTTP/1.1" 302 0
INFO 2025-09-26 12:35:06,726 middleware 4828 123145587220480 Auth request: GET /api/auth/oidc-login/callback/ from 127.0.0.1
WARNING 2025-09-26 12:35:06,750 middleware 4828 123145587220480 Auth failed: GET /api/auth/oidc-login/callback/ - 404
WARNING 2025-09-26 12:35:06,751 log 4828 123145587220480 Not Found: /api/auth/oidc-login/callback/
WARNING 2025-09-26 12:35:06,752 basehttp 4828 123145587220480 "GET /api/auth/oidc-login/callback/ HTTP/1.1" 404 4148
INFO 2025-09-26 12:35:10,249 middleware 4828 123145587220480 Auth request: GET /api/auth/oidc-login/callback from 127.0.0.1
WARNING 2025-09-26 12:35:10,255 middleware 4828 123145587220480 Auth failed: GET /api/auth/oidc-login/callback - 404
WARNING 2025-09-26 12:35:10,255 log 4828 123145587220480 Not Found: /api/auth/oidc-login/callback
WARNING 2025-09-26 12:35:10,255 basehttp 4828 123145587220480 "GET /api/auth/oidc-login/callback HTTP/1.1" 404 4145
INFO 2025-09-26 12:35:44,818 middleware 4828 123145587220480 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
INFO 2025-09-26 12:35:44,821 middleware 4828 123145587220480 Auth success: GET /api/auth/oidc-login/ - 302
INFO 2025-09-26 12:35:44,821 basehttp 4828 123145587220480 "GET /api/auth/oidc-login/ HTTP/1.1" 302 0
INFO 2025-09-26 12:35:45,442 middleware 4828 123145587220480 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
INFO 2025-09-26 12:35:45,443 middleware 4828 123145587220480 Auth success: GET /api/auth/oidc-login/ - 302
INFO 2025-09-26 12:35:45,443 basehttp 4828 123145587220480 "GET /api/auth/oidc-login/ HTTP/1.1" 302 0
INFO 2025-09-26 12:36:06,360 middleware 4828 123145587220480 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
INFO 2025-09-26 12:36:06,906 middleware 4828 123145620799488 Auth request: POST /api/auth/oidc-login/ from 127.0.0.1
ERROR 2025-09-26 12:36:07,352 authentication 4828 123145620799488 Failed to get OIDC configuration: 404 Client Error: Not Found for url: https://accounts.google.com/.well-known/openid_configuration
WARNING 2025-09-26 12:36:07,354 middleware 4828 123145620799488 Auth failed: POST /api/auth/oidc-login/ - 401
WARNING 2025-09-26 12:36:07,355 log 4828 123145620799488 Unauthorized: /api/auth/oidc-login/
WARNING 2025-09-26 12:36:07,355 basehttp 4828 123145620799488 "POST /api/auth/oidc-login/ HTTP/1.1" 401 28
ERROR 2025-09-26 12:36:07,356 views 4828 123145587220480 OIDC login failed: {"error":"Invalid ID token"}
ERROR 2025-09-26 12:36:07,388 log 4828 123145587220480 Internal Server Error: /api/auth/oidc/callback/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/response.py", line 55, in rendered_content
    assert renderer, ".accepted_renderer not set on Response"
AssertionError: .accepted_renderer not set on Response
WARNING 2025-09-26 12:36:07,389 middleware 4828 123145587220480 Auth failed: GET /api/auth/oidc/callback/ - 500
ERROR 2025-09-26 12:36:07,390 basehttp 4828 123145587220480 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1B9uKOmXZWofO5P3pTGPuaHqUhgdwGV-zqOaxhPdI8t2TQSFeCaNRDyRoaIpIeMTw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 500 78086
INFO 2025-09-26 12:58:03,302 autoreload 4828 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:58:04,549 autoreload 5150 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 12:58:06,884 autoreload 5150 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:58:07,643 autoreload 5155 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 12:58:14,059 autoreload 5155 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 12:58:14,657 autoreload 5161 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:00:11,963 autoreload 5161 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:00:12,604 autoreload 5205 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:00:34,458 autoreload 5205 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:00:35,013 autoreload 5213 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:01:07,065 autoreload 5213 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:01:07,706 autoreload 5220 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:01:08,999 autoreload 5220 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:01:09,551 autoreload 5223 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:01:19,056 autoreload 5223 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:01:19,651 autoreload 5227 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:01:22,995 autoreload 5227 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:01:23,736 autoreload 5231 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:02:24,569 autoreload 5231 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:02:25,169 autoreload 5250 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:02:28,470 autoreload 5250 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:02:29,095 autoreload 5255 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:02:38,723 autoreload 5255 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:02:39,344 autoreload 5258 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:02:42,749 autoreload 5258 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:02:43,300 autoreload 5261 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:02:48,681 autoreload 5261 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:02:49,260 autoreload 5264 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:03:51,981 autoreload 5264 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:03:52,564 autoreload 5279 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:03:58,801 autoreload 5283 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:04:58,563 autoreload 5283 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:04:59,177 autoreload 5297 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:05:00,564 autoreload 5297 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:05:01,197 autoreload 5301 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:05:03,531 autoreload 5301 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:05:04,138 autoreload 5302 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:05:09,574 autoreload 5302 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:05:10,141 autoreload 5307 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:05:14,512 autoreload 5307 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:05:15,064 autoreload 5310 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:05:18,428 autoreload 5310 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:05:19,025 autoreload 5311 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:05:25,439 autoreload 5311 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:05:26,184 autoreload 5318 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:05:29,599 autoreload 5318 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:05:30,099 autoreload 5321 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:05:37,498 autoreload 5321 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:05:38,084 autoreload 5324 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:05:39,371 autoreload 5324 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:05:39,899 autoreload 5325 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:06:00,662 autoreload 5325 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:06:01,297 autoreload 5333 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:06:11,847 autoreload 5333 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:06:12,472 autoreload 5338 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:06:20,008 autoreload 5338 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:06:20,538 autoreload 5343 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:06:22,843 autoreload 5343 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:06:23,395 autoreload 5348 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:07:11,109 autoreload 5348 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:07:11,676 autoreload 5356 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:07:17,379 basehttp 5356 123145366761472 "GET /admin/orders/orderstatushistory/ HTTP/1.1" 200 13697
INFO 2025-09-26 13:07:17,438 basehttp 5356 123145383550976 "GET /static/admin/css/dark_mode.css HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,442 basehttp 5356 123145400340480 "GET /static/admin/css/base.css HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,445 basehttp 5356 123145383550976 "GET /static/admin/css/responsive.css HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,446 basehttp 5356 123145400340480 "GET /static/admin/js/core.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,451 basehttp 5356 123145383550976 "GET /static/admin/js/admin/RelatedObjectLookups.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,453 basehttp 5356 123145383550976 "GET /static/admin/js/prepopulate.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,459 basehttp 5356 123145417129984 "GET /static/admin/css/changelists.css HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,465 basehttp 5356 123145383550976 "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,472 basehttp 5356 123145400340480 "GET /static/admin/js/actions.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,475 basehttp 5356 123145450708992 "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,479 basehttp 5356 123145383550976 "GET /static/admin/js/urlify.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,482 basehttp 5356 123145450708992 "GET /static/admin/img/search.svg HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,483 basehttp 5356 123145433919488 "GET /static/admin/css/nav_sidebar.css HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,484 basehttp 5356 123145417129984 "GET /static/admin/js/jquery.init.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,509 basehttp 5356 123145366761472 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:07:17,542 basehttp 5356 123145366761472 "GET /static/admin/js/theme.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,545 basehttp 5356 123145417129984 "GET /static/admin/js/nav_sidebar.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,554 basehttp 5356 123145417129984 "GET /static/admin/js/filters.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,584 basehttp 5356 123145417129984 "GET /static/admin/img/icon-addlink.svg HTTP/1.1" 304 0
INFO 2025-09-26 13:07:17,585 basehttp 5356 123145366761472 "GET /static/admin/img/tooltag-add.svg HTTP/1.1" 304 0
ERROR 2025-09-26 13:07:19,969 log 5356 123145366761472 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 681, in get_field
    return self.fields_map[field_name]
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 272, in lookup_field
    f = _get_non_gfk_field(opts, name)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 303, in _get_non_gfk_field
    field = opts.get_field(name)
            ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 683, in get_field
    raise FieldDoesNotExist(
django.core.exceptions.FieldDoesNotExist: OrderItem has no field named 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1064, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 715, in resolve
    obj = self.var.resolve(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 847, in resolve
    value = self._resolve_lookup(context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 914, in _resolve_lookup
    current = current()
              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/helpers.py", line 273, in contents
    f, attr, value = lookup_field(field, obj, model_admin)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 283, in lookup_field
    attr = getattr(obj, name)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 210, in total_price
    return self.unit_price * self.quantity
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for *: 'NoneType' and 'NoneType'
ERROR 2025-09-26 13:07:19,975 basehttp 5356 123145366761472 "GET /admin/orders/order/add/ HTTP/1.1" 500 687154
INFO 2025-09-26 13:07:21,117 basehttp 5356 123145366761472 "GET /admin/orders/orderstatushistory/ HTTP/1.1" 200 13697
ERROR 2025-09-26 13:07:22,696 log 5356 123145366761472 Internal Server Error: /admin/orders/orderitem/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 681, in get_field
    return self.fields_map[field_name]
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 272, in lookup_field
    f = _get_non_gfk_field(opts, name)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 303, in _get_non_gfk_field
    field = opts.get_field(name)
            ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 683, in get_field
    raise FieldDoesNotExist(
django.core.exceptions.FieldDoesNotExist: OrderItem has no field named 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1064, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 715, in resolve
    obj = self.var.resolve(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 847, in resolve
    value = self._resolve_lookup(context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 914, in _resolve_lookup
    current = current()
              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/helpers.py", line 273, in contents
    f, attr, value = lookup_field(field, obj, model_admin)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 283, in lookup_field
    attr = getattr(obj, name)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 210, in total_price
    return self.unit_price * self.quantity
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for *: 'NoneType' and 'NoneType'
ERROR 2025-09-26 13:07:22,700 basehttp 5356 123145366761472 "GET /admin/orders/orderitem/add/ HTTP/1.1" 500 679667
INFO 2025-09-26 13:07:24,766 basehttp 5356 123145366761472 "GET /admin/orders/orderstatushistory/ HTTP/1.1" 200 13697
INFO 2025-09-26 13:07:25,811 basehttp 5356 123145366761472 "GET /admin/orders/orderstatushistory/add/ HTTP/1.1" 200 18871
INFO 2025-09-26 13:07:25,861 basehttp 5356 123145433919488 "GET /static/admin/img/icon-changelink.svg HTTP/1.1" 304 0
INFO 2025-09-26 13:07:25,865 basehttp 5356 123145417129984 "GET /static/admin/css/forms.css HTTP/1.1" 304 0
INFO 2025-09-26 13:07:25,866 basehttp 5356 123145450708992 "GET /static/admin/img/icon-viewlink.svg HTTP/1.1" 304 0
INFO 2025-09-26 13:07:25,879 basehttp 5356 123145366761472 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:07:25,890 basehttp 5356 123145366761472 "GET /static/admin/js/prepopulate_init.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:25,895 basehttp 5356 123145366761472 "GET /static/admin/css/widgets.css HTTP/1.1" 304 0
INFO 2025-09-26 13:07:25,897 basehttp 5356 123145450708992 "GET /static/admin/img/icon-deletelink.svg HTTP/1.1" 304 0
INFO 2025-09-26 13:07:25,901 basehttp 5356 123145450708992 "GET /static/admin/js/change_form.js HTTP/1.1" 304 0
INFO 2025-09-26 13:07:47,275 middleware 5356 123145467498496 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
ERROR 2025-09-26 13:07:47,834 views 5356 123145467498496 OIDC token exchange error: 400 Client Error: Bad Request for url: https://oauth2.googleapis.com/token
ERROR 2025-09-26 13:07:47,861 log 5356 123145467498496 Internal Server Error: /api/auth/oidc/callback/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/response.py", line 55, in rendered_content
    assert renderer, ".accepted_renderer not set on Response"
AssertionError: .accepted_renderer not set on Response
WARNING 2025-09-26 13:07:47,862 middleware 5356 123145467498496 Auth failed: GET /api/auth/oidc/callback/ - 500
ERROR 2025-09-26 13:07:47,862 basehttp 5356 123145467498496 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1B9uKOmXZWofO5P3pTGPuaHqUhgdwGV-zqOaxhPdI8t2TQSFeCaNRDyRoaIpIeMTw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 500 77452
INFO 2025-09-26 13:07:49,898 middleware 5356 123145467498496 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
ERROR 2025-09-26 13:07:50,444 views 5356 123145467498496 OIDC token exchange error: 400 Client Error: Bad Request for url: https://oauth2.googleapis.com/token
ERROR 2025-09-26 13:07:50,468 log 5356 123145467498496 Internal Server Error: /api/auth/oidc/callback/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/response.py", line 55, in rendered_content
    assert renderer, ".accepted_renderer not set on Response"
AssertionError: .accepted_renderer not set on Response
WARNING 2025-09-26 13:07:50,469 middleware 5356 123145467498496 Auth failed: GET /api/auth/oidc/callback/ - 500
ERROR 2025-09-26 13:07:50,469 basehttp 5356 123145467498496 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1B9uKOmXZWofO5P3pTGPuaHqUhgdwGV-zqOaxhPdI8t2TQSFeCaNRDyRoaIpIeMTw&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 500 77452
INFO 2025-09-26 13:07:59,602 middleware 5356 123145467498496 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
INFO 2025-09-26 13:07:59,607 middleware 5356 123145467498496 Auth success: GET /api/auth/oidc-login/ - 302
INFO 2025-09-26 13:07:59,608 basehttp 5356 123145467498496 "GET /api/auth/oidc-login/ HTTP/1.1" 302 0
INFO 2025-09-26 13:08:00,023 middleware 5356 123145467498496 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
INFO 2025-09-26 13:08:00,025 middleware 5356 123145467498496 Auth success: GET /api/auth/oidc-login/ - 302
INFO 2025-09-26 13:08:00,025 basehttp 5356 123145467498496 "GET /api/auth/oidc-login/ HTTP/1.1" 302 0
INFO 2025-09-26 13:08:06,811 middleware 5356 123145467498496 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
INFO 2025-09-26 13:08:07,272 middleware 5356 123145501077504 Auth request: POST /api/auth/oidc-login/ from 127.0.0.1
ERROR 2025-09-26 13:08:07,709 authentication 5356 123145501077504 Failed to get OIDC configuration: 404 Client Error: Not Found for url: https://accounts.google.com/.well-known/openid_configuration
WARNING 2025-09-26 13:08:07,711 middleware 5356 123145501077504 Auth failed: POST /api/auth/oidc-login/ - 401
WARNING 2025-09-26 13:08:07,711 log 5356 123145501077504 Unauthorized: /api/auth/oidc-login/
WARNING 2025-09-26 13:08:07,712 basehttp 5356 123145501077504 "POST /api/auth/oidc-login/ HTTP/1.1" 401 28
ERROR 2025-09-26 13:08:07,712 views 5356 123145467498496 OIDC login failed: {"error":"Invalid ID token"}
ERROR 2025-09-26 13:08:07,737 log 5356 123145467498496 Internal Server Error: /api/auth/oidc/callback/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/rest_framework/response.py", line 55, in rendered_content
    assert renderer, ".accepted_renderer not set on Response"
AssertionError: .accepted_renderer not set on Response
WARNING 2025-09-26 13:08:07,737 middleware 5356 123145467498496 Auth failed: GET /api/auth/oidc/callback/ - 500
ERROR 2025-09-26 13:08:07,737 basehttp 5356 123145467498496 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1DTwqurrSaPv3AO4cwm2bWWTfyJA2j2ReAEaYoAy7TLOo7pd5OyCnM32sHRqYNwfg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 500 78086
INFO 2025-09-26 13:08:43,425 autoreload 5356 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:08:44,585 autoreload 5423 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:09:24,299 autoreload 5423 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:09:25,314 autoreload 5463 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:09:26,778 autoreload 5463 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:09:27,490 autoreload 5468 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:09:28,879 autoreload 5468 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:09:29,408 autoreload 5470 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:09:43,118 autoreload 5470 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/urls.py changed, reloading.
INFO 2025-09-26 13:09:43,691 autoreload 5476 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:10:08,580 autoreload 5476 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/urls.py changed, reloading.
INFO 2025-09-26 13:10:09,089 autoreload 5486 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:10:12,204 middleware 5486 123145390608384 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
ERROR 2025-09-26 13:10:12,710 views 5486 123145390608384 OIDC token exchange error: 400 Client Error: Bad Request for url: https://oauth2.googleapis.com/token
WARNING 2025-09-26 13:10:12,713 middleware 5486 123145390608384 Auth failed: GET /api/auth/oidc/callback/ - 503
ERROR 2025-09-26 13:10:12,713 log 5486 123145390608384 Service Unavailable: /api/auth/oidc/callback/
ERROR 2025-09-26 13:10:12,713 basehttp 5486 123145390608384 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1DTwqurrSaPv3AO4cwm2bWWTfyJA2j2ReAEaYoAy7TLOo7pd5OyCnM32sHRqYNwfg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 503 46
INFO 2025-09-26 13:10:24,886 middleware 5486 123145390608384 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
INFO 2025-09-26 13:10:24,901 middleware 5486 123145390608384 Auth success: GET /api/auth/oidc-login/ - 302
INFO 2025-09-26 13:10:24,902 basehttp 5486 123145390608384 "GET /api/auth/oidc-login/ HTTP/1.1" 302 0
INFO 2025-09-26 13:10:25,321 middleware 5486 123145390608384 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
INFO 2025-09-26 13:10:25,323 middleware 5486 123145390608384 Auth success: GET /api/auth/oidc-login/ - 302
INFO 2025-09-26 13:10:25,324 basehttp 5486 123145390608384 "GET /api/auth/oidc-login/ HTTP/1.1" 302 0
INFO 2025-09-26 13:10:34,016 middleware 5486 123145390608384 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
INFO 2025-09-26 13:10:34,547 middleware 5486 123145424187392 Auth request: POST /api/auth/oidc-login/ from 127.0.0.1
ERROR 2025-09-26 13:10:35,036 authentication 5486 123145424187392 Failed to get OIDC configuration: 404 Client Error: Not Found for url: https://accounts.google.com/.well-known/openid_configuration
WARNING 2025-09-26 13:10:35,038 middleware 5486 123145424187392 Auth failed: POST /api/auth/oidc-login/ - 401
WARNING 2025-09-26 13:10:35,039 log 5486 123145424187392 Unauthorized: /api/auth/oidc-login/
WARNING 2025-09-26 13:10:35,039 basehttp 5486 123145424187392 "POST /api/auth/oidc-login/ HTTP/1.1" 401 28
ERROR 2025-09-26 13:10:35,040 views 5486 123145390608384 OIDC login failed: {"error":"Invalid ID token"}
WARNING 2025-09-26 13:10:35,042 middleware 5486 123145390608384 Auth failed: GET /api/auth/oidc/callback/ - 401
WARNING 2025-09-26 13:10:35,042 log 5486 123145390608384 Unauthorized: /api/auth/oidc/callback/
WARNING 2025-09-26 13:10:35,043 basehttp 5486 123145390608384 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1B8vTu0Gj-5EJEXjubzbBP7hC8H_p4IQdT_s5ALlNIUBLJfJxvIaa-ZtS9sIo2R8g&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 401 33
INFO 2025-09-26 13:12:01,677 autoreload 5486 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:12:02,649 autoreload 5519 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:12:04,315 middleware 5519 123145573527552 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
INFO 2025-09-26 13:12:04,323 views 5519 123145573527552 OIDC callback received
INFO 2025-09-26 13:12:04,324 views 5519 123145573527552 Exchanging authorization code for tokens...
ERROR 2025-09-26 13:12:04,812 views 5519 123145573527552 OIDC token exchange error: 400 Client Error: Bad Request for url: https://oauth2.googleapis.com/token
WARNING 2025-09-26 13:12:04,815 middleware 5519 123145573527552 Auth failed: GET /api/auth/oidc/callback/ - 503
ERROR 2025-09-26 13:12:04,815 log 5519 123145573527552 Service Unavailable: /api/auth/oidc/callback/
ERROR 2025-09-26 13:12:04,815 basehttp 5519 123145573527552 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1B8vTu0Gj-5EJEXjubzbBP7hC8H_p4IQdT_s5ALlNIUBLJfJxvIaa-ZtS9sIo2R8g&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 503 46
INFO 2025-09-26 13:12:07,419 middleware 5519 123145573527552 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
INFO 2025-09-26 13:12:07,421 views 5519 123145573527552 OIDC callback received
INFO 2025-09-26 13:12:07,421 views 5519 123145573527552 Exchanging authorization code for tokens...
ERROR 2025-09-26 13:12:07,839 views 5519 123145573527552 OIDC token exchange error: 400 Client Error: Bad Request for url: https://oauth2.googleapis.com/token
WARNING 2025-09-26 13:12:07,842 middleware 5519 123145573527552 Auth failed: GET /api/auth/oidc/callback/ - 503
ERROR 2025-09-26 13:12:07,842 log 5519 123145573527552 Service Unavailable: /api/auth/oidc/callback/
ERROR 2025-09-26 13:12:07,842 basehttp 5519 123145573527552 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1B8vTu0Gj-5EJEXjubzbBP7hC8H_p4IQdT_s5ALlNIUBLJfJxvIaa-ZtS9sIo2R8g&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 503 46
INFO 2025-09-26 13:14:15,933 autoreload 5519 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:14:16,519 autoreload 5546 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:14:21,951 autoreload 5546 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:14:22,608 autoreload 5552 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:14:25,114 autoreload 5552 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:14:25,692 autoreload 5556 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:14:28,127 autoreload 5556 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:14:28,784 autoreload 5561 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:15:00,037 autoreload 5561 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:15:00,601 autoreload 5567 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:15:03,890 autoreload 5567 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:15:04,486 autoreload 5570 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:15:24,403 autoreload 5570 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:15:25,210 autoreload 5579 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:15:29,768 autoreload 5579 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/customers/views.py changed, reloading.
INFO 2025-09-26 13:15:30,457 autoreload 5583 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:16:14,059 autoreload 5583 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/ecommerce/settings.py changed, reloading.
INFO 2025-09-26 13:16:14,677 autoreload 5596 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:16:17,147 autoreload 5596 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/ecommerce/settings.py changed, reloading.
INFO 2025-09-26 13:16:17,782 autoreload 5600 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:16:38,735 autoreload 5600 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/ecommerce/settings.py changed, reloading.
INFO 2025-09-26 13:16:39,455 autoreload 5610 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:16:50,127 autoreload 5610 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/ecommerce/settings.py changed, reloading.
INFO 2025-09-26 13:16:50,785 autoreload 5620 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:17:22,496 middleware 5620 123145507864576 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
INFO 2025-09-26 13:17:22,501 views 5620 123145507864576 OIDC callback received
INFO 2025-09-26 13:17:22,501 views 5620 123145507864576 Exchanging authorization code for tokens...
ERROR 2025-09-26 13:17:22,959 views 5620 123145507864576 OIDC token exchange error: 400 Client Error: Bad Request for url: https://oauth2.googleapis.com/token
WARNING 2025-09-26 13:17:22,964 middleware 5620 123145507864576 Auth failed: GET /api/auth/oidc/callback/ - 503
ERROR 2025-09-26 13:17:22,984 log 5620 123145507864576 Service Unavailable: /api/auth/oidc/callback/
ERROR 2025-09-26 13:17:22,985 basehttp 5620 123145507864576 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1B8vTu0Gj-5EJEXjubzbBP7hC8H_p4IQdT_s5ALlNIUBLJfJxvIaa-ZtS9sIo2R8g&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 503 46
INFO 2025-09-26 13:17:25,073 middleware 5620 123145507864576 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
INFO 2025-09-26 13:17:25,075 views 5620 123145507864576 OIDC callback received
INFO 2025-09-26 13:17:25,075 views 5620 123145507864576 Exchanging authorization code for tokens...
ERROR 2025-09-26 13:17:25,520 views 5620 123145507864576 OIDC token exchange error: 400 Client Error: Bad Request for url: https://oauth2.googleapis.com/token
WARNING 2025-09-26 13:17:25,522 middleware 5620 123145507864576 Auth failed: GET /api/auth/oidc/callback/ - 503
ERROR 2025-09-26 13:17:25,523 log 5620 123145507864576 Service Unavailable: /api/auth/oidc/callback/
ERROR 2025-09-26 13:17:25,523 basehttp 5620 123145507864576 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1B8vTu0Gj-5EJEXjubzbBP7hC8H_p4IQdT_s5ALlNIUBLJfJxvIaa-ZtS9sIo2R8g&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 503 46
INFO 2025-09-26 13:17:34,601 middleware 5620 123145507864576 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
INFO 2025-09-26 13:17:34,616 middleware 5620 123145507864576 Auth success: GET /api/auth/oidc-login/ - 302
INFO 2025-09-26 13:17:34,617 basehttp 5620 123145507864576 "GET /api/auth/oidc-login/ HTTP/1.1" 302 0
INFO 2025-09-26 13:17:34,845 middleware 5620 123145507864576 Auth request: GET /api/auth/oidc-login/ from 127.0.0.1
INFO 2025-09-26 13:17:34,848 middleware 5620 123145507864576 Auth success: GET /api/auth/oidc-login/ - 302
INFO 2025-09-26 13:17:34,848 basehttp 5620 123145507864576 "GET /api/auth/oidc-login/ HTTP/1.1" 302 0
INFO 2025-09-26 13:17:41,678 middleware 5620 123145507864576 Auth request: GET /api/auth/oidc/callback/ from 127.0.0.1
INFO 2025-09-26 13:17:41,679 views 5620 123145507864576 OIDC callback received
INFO 2025-09-26 13:17:41,679 views 5620 123145507864576 Exchanging authorization code for tokens...
ERROR 2025-09-26 13:17:42,128 views 5620 123145507864576 OIDC token exchange error: 400 Client Error: Bad Request for url: https://oauth2.googleapis.com/token
WARNING 2025-09-26 13:17:42,131 middleware 5620 123145507864576 Auth failed: GET /api/auth/oidc/callback/ - 503
ERROR 2025-09-26 13:17:42,131 log 5620 123145507864576 Service Unavailable: /api/auth/oidc/callback/
ERROR 2025-09-26 13:17:42,132 basehttp 5620 123145507864576 "GET /api/auth/oidc/callback/?code=4%2F0AVGzR1DX_5I2gAwCmznmRyB5P0MgUiUUuvteHwSM6L-P8IlCLGDQPNhkXmxzdBZY8v6dAA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent HTTP/1.1" 503 46
ERROR 2025-09-26 13:17:50,562 log 5620 123145541443584 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 681, in get_field
    return self.fields_map[field_name]
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 272, in lookup_field
    f = _get_non_gfk_field(opts, name)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 303, in _get_non_gfk_field
    field = opts.get_field(name)
            ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/options.py", line 683, in get_field
    raise FieldDoesNotExist(
django.core.exceptions.FieldDoesNotExist: OrderItem has no field named 'total_price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/response.py", line 92, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/backends/django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 175, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 157, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 63, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/loader_tags.py", line 208, in render
    return template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 177, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 167, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 238, in render
    nodelist.append(node.render_annotated(context))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/defaulttags.py", line 321, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1005, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 966, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 1064, in render
    output = self.filter_expression.resolve(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 715, in resolve
    obj = self.var.resolve(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 847, in resolve
    value = self._resolve_lookup(context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/template/base.py", line 914, in _resolve_lookup
    current = current()
              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/helpers.py", line 273, in contents
    f, attr, value = lookup_field(field, obj, model_admin)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/utils.py", line 283, in lookup_field
    attr = getattr(obj, name)
           ^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 210, in total_price
    return self.unit_price * self.quantity
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for *: 'NoneType' and 'NoneType'
ERROR 2025-09-26 13:17:50,568 basehttp 5620 123145541443584 "GET /admin/orders/order/add/ HTTP/1.1" 500 687158
INFO 2025-09-26 13:18:42,566 autoreload 5620 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/orders/models.py changed, reloading.
INFO 2025-09-26 13:18:43,552 autoreload 5658 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:18:47,076 autoreload 5658 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/orders/models.py changed, reloading.
INFO 2025-09-26 13:18:47,690 autoreload 5662 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:18:49,115 autoreload 5662 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/orders/models.py changed, reloading.
INFO 2025-09-26 13:18:49,692 autoreload 5666 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:19:14,700 autoreload 5666 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/orders/models.py changed, reloading.
INFO 2025-09-26 13:19:15,282 autoreload 5671 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:19:17,334 basehttp 5671 123145514536960 "GET /admin/orders/order/add/ HTTP/1.1" 200 36679
INFO 2025-09-26 13:19:17,382 basehttp 5671 123145564905472 "GET /static/admin/js/collapse.js HTTP/1.1" 304 0
INFO 2025-09-26 13:19:17,384 basehttp 5671 123145581694976 "GET /static/admin/js/inlines.js HTTP/1.1" 304 0
INFO 2025-09-26 13:19:17,405 basehttp 5671 123145548115968 "GET /static/admin/js/admin/DateTimeShortcuts.js HTTP/1.1" 200 19319
INFO 2025-09-26 13:19:17,405 basehttp 5671 123145531326464 "GET /static/admin/js/calendar.js HTTP/1.1" 200 8466
INFO 2025-09-26 13:19:17,408 basehttp 5671 123145514536960 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:19:17,453 basehttp 5671 123145531326464 "GET /static/admin/img/icon-unknown.svg HTTP/1.1" 304 0
INFO 2025-09-26 13:19:19,834 basehttp 5671 123145531326464 "GET /admin/orders/order/add/ HTTP/1.1" 200 36679
INFO 2025-09-26 13:19:19,888 basehttp 5671 123145531326464 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:20:11,779 basehttp 5671 123145531326464 "POST /admin/orders/order/add/ HTTP/1.1" 200 36903
INFO 2025-09-26 13:20:11,879 basehttp 5671 123145531326464 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
ERROR 2025-09-26 13:21:17,063 log 5671 123145531326464 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 938, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/transport/pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/connection.py", line 324, in connect
    self.transport.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1886, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1747, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1798, in _changeform_view
    self.save_model(request, new_object, form, not add)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1227, in save_model
    obj.save()
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 139, in save
    super().save(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/signals.py", line 22, in order_created_updated
    send_order_confirmation_async.delay(instance.id)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/base.py", line 798, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/amqp.py", line 517, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 190, in publish
    return _publish(
           ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 200, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 224, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 240, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 957, in default_channel
    self._ensure_connection(**conn_opts)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 458, in _ensure_connection
    with ctx():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [Errno 61] Connection refused
ERROR 2025-09-26 13:21:17,070 basehttp 5671 123145531326464 "POST /admin/orders/order/add/ HTTP/1.1" 500 288704
ERROR 2025-09-26 13:22:49,104 log 5671 123145531326464 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 938, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/transport/pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/connection.py", line 324, in connect
    self.transport.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1886, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1747, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1798, in _changeform_view
    self.save_model(request, new_object, form, not add)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1227, in save_model
    obj.save()
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 139, in save
    super().save(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/signals.py", line 22, in order_created_updated
    send_order_confirmation_async.delay(instance.id)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/base.py", line 798, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/amqp.py", line 517, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 190, in publish
    return _publish(
           ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 200, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 224, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 240, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 957, in default_channel
    self._ensure_connection(**conn_opts)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 458, in _ensure_connection
    with ctx():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [Errno 61] Connection refused
ERROR 2025-09-26 13:22:49,108 basehttp 5671 123145531326464 "POST /admin/orders/order/add/ HTTP/1.1" 500 288703
ERROR 2025-09-26 13:23:56,407 log 5671 123145531326464 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 938, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/transport/pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/connection.py", line 324, in connect
    self.transport.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1886, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1747, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1798, in _changeform_view
    self.save_model(request, new_object, form, not add)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1227, in save_model
    obj.save()
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 139, in save
    super().save(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/signals.py", line 22, in order_created_updated
    send_order_confirmation_async.delay(instance.id)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/base.py", line 798, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/amqp.py", line 517, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 190, in publish
    return _publish(
           ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 200, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 224, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 240, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 957, in default_channel
    self._ensure_connection(**conn_opts)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 458, in _ensure_connection
    with ctx():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [Errno 61] Connection refused
ERROR 2025-09-26 13:23:56,410 basehttp 5671 123145531326464 "POST /admin/orders/order/add/ HTTP/1.1" 500 288703
INFO 2025-09-26 13:23:59,083 basehttp 5671 123145531326464 "GET /admin/orders/order/add/ HTTP/1.1" 200 36679
INFO 2025-09-26 13:23:59,126 basehttp 5671 123145531326464 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:24:19,231 basehttp 5671 123145531326464 "POST /admin/orders/order/add/ HTTP/1.1" 200 36886
INFO 2025-09-26 13:24:19,288 basehttp 5671 123145531326464 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
ERROR 2025-09-26 13:24:31,840 log 5671 123145531326464 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 938, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/transport/pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/connection.py", line 324, in connect
    self.transport.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1886, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1747, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1798, in _changeform_view
    self.save_model(request, new_object, form, not add)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1227, in save_model
    obj.save()
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 139, in save
    super().save(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/signals.py", line 22, in order_created_updated
    send_order_confirmation_async.delay(instance.id)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/base.py", line 798, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/amqp.py", line 517, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 190, in publish
    return _publish(
           ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 200, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 224, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 240, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 957, in default_channel
    self._ensure_connection(**conn_opts)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 458, in _ensure_connection
    with ctx():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [Errno 61] Connection refused
ERROR 2025-09-26 13:24:31,843 basehttp 5671 123145531326464 "POST /admin/orders/order/add/ HTTP/1.1" 500 288687
INFO 2025-09-26 13:28:07,372 autoreload 6841 140704688668672 Watching for file changes with StatReloader
ERROR 2025-09-26 13:28:15,075 log 6841 123145443790848 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 938, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/transport/pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/connection.py", line 324, in connect
    self.transport.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1886, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1747, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1798, in _changeform_view
    self.save_model(request, new_object, form, not add)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1227, in save_model
    obj.save()
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 139, in save
    super().save(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/signals.py", line 22, in order_created_updated
    send_order_confirmation_async.delay(instance.id)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/base.py", line 798, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/amqp.py", line 517, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 190, in publish
    return _publish(
           ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 200, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 224, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 240, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 957, in default_channel
    self._ensure_connection(**conn_opts)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 458, in _ensure_connection
    with ctx():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [Errno 61] Connection refused
ERROR 2025-09-26 13:28:15,082 basehttp 6841 123145443790848 "POST /admin/orders/order/add/ HTTP/1.1" 500 288687
INFO 2025-09-26 13:28:18,852 basehttp 6841 123145443790848 "GET /admin/orders/order/add/ HTTP/1.1" 200 36679
INFO 2025-09-26 13:28:18,906 basehttp 6841 123145443790848 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
ERROR 2025-09-26 13:28:34,653 log 6841 123145443790848 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 938, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/transport/pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/connection.py", line 324, in connect
    self.transport.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1886, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1747, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1798, in _changeform_view
    self.save_model(request, new_object, form, not add)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1227, in save_model
    obj.save()
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 139, in save
    super().save(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/signals.py", line 22, in order_created_updated
    send_order_confirmation_async.delay(instance.id)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/base.py", line 798, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/amqp.py", line 517, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 190, in publish
    return _publish(
           ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 200, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 224, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 240, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 957, in default_channel
    self._ensure_connection(**conn_opts)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 458, in _ensure_connection
    with ctx():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [Errno 61] Connection refused
ERROR 2025-09-26 13:28:34,656 basehttp 6841 123145443790848 "POST /admin/orders/order/add/ HTTP/1.1" 500 288690
INFO 2025-09-26 13:31:00,113 autoreload 7103 140704688668672 Watching for file changes with StatReloader
ERROR 2025-09-26 13:31:04,287 log 7103 123145535029248 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 938, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/transport/pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/connection.py", line 324, in connect
    self.transport.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1886, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1747, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1798, in _changeform_view
    self.save_model(request, new_object, form, not add)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1227, in save_model
    obj.save()
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 139, in save
    super().save(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/signals.py", line 22, in order_created_updated
    send_order_confirmation_async.delay(instance.id)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/base.py", line 798, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/amqp.py", line 517, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 190, in publish
    return _publish(
           ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 200, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 224, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 240, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 957, in default_channel
    self._ensure_connection(**conn_opts)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 458, in _ensure_connection
    with ctx():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [Errno 61] Connection refused
ERROR 2025-09-26 13:31:04,295 basehttp 7103 123145535029248 "POST /admin/orders/order/add/ HTTP/1.1" 500 288690
INFO 2025-09-26 13:31:07,212 basehttp 7103 123145535029248 "GET /admin/orders/order/add/ HTTP/1.1" 200 36679
ERROR 2025-09-26 13:31:35,029 log 7103 123145535029248 Internal Server Error: /admin/orders/order/add/
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 938, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/transport/pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/connection.py", line 324, in connect
    self.transport.connect()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/amqp/transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 688, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/views/decorators/cache.py", line 62, in _wrapper_view_func
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/sites.py", line 242, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1886, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/utils/decorators.py", line 134, in _wrapper_view
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1747, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1798, in _changeform_view
    self.save_model(request, new_object, form, not add)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/contrib/admin/options.py", line 1227, in save_model
    obj.save()
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/models.py", line 139, in save
    super().save(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/db/models/base.py", line 892, in save_base
    post_save.send(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 176, in send
    return [
           ^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/django/dispatch/dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dennismureti/Downloads/ecommerce-api/orders/signals.py", line 22, in order_created_updated
    send_order_confirmation_async.delay(instance.id)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/base.py", line 798, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/celery/app/amqp.py", line 517, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 190, in publish
    return _publish(
           ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 200, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 224, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/utils/functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/messaging.py", line 240, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 957, in default_channel
    self._ensure_connection(**conn_opts)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 458, in _ensure_connection
    with ctx():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [Errno 61] Connection refused
ERROR 2025-09-26 13:31:35,033 basehttp 7103 123145535029248 "POST /admin/orders/order/add/ HTTP/1.1" 500 288690
INFO 2025-09-26 13:32:42,667 autoreload 7103 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/orders/signals.py changed, reloading.
INFO 2025-09-26 13:32:43,338 autoreload 7132 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:32:44,862 autoreload 7132 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/orders/signals.py changed, reloading.
INFO 2025-09-26 13:32:45,504 autoreload 7136 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:32:47,038 autoreload 7136 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/orders/signals.py changed, reloading.
INFO 2025-09-26 13:32:47,708 autoreload 7138 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:34:03,124 autoreload 7138 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/orders/signals.py changed, reloading.
INFO 2025-09-26 13:34:04,055 autoreload 7159 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:34:08,523 autoreload 7159 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/orders/signals.py changed, reloading.
INFO 2025-09-26 13:34:09,093 autoreload 7163 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:34:59,758 autoreload 7163 140704688668672 /Users/dennismureti/Downloads/ecommerce-api/orders/signals.py changed, reloading.
INFO 2025-09-26 13:35:00,714 autoreload 7510 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:35:17,602 autoreload 7529 140704688668672 Watching for file changes with StatReloader
INFO 2025-09-26 13:35:21,056 basehttp 7529 123145373003776 "POST /admin/orders/order/add/ HTTP/1.1" 302 0
INFO 2025-09-26 13:35:21,196 basehttp 7529 123145373003776 "GET /admin/orders/order/add/ HTTP/1.1" 200 36984
INFO 2025-09-26 13:35:21,543 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:35:21,644 basehttp 7529 123145373003776 "GET /static/admin/img/icon-yes.svg HTTP/1.1" 304 0
INFO 2025-09-26 13:36:06,713 basehttp 7529 123145373003776 "POST /admin/orders/order/add/ HTTP/1.1" 302 0
INFO 2025-09-26 13:36:06,777 basehttp 7529 123145373003776 "GET /admin/orders/order/add/ HTTP/1.1" 200 36985
INFO 2025-09-26 13:36:06,860 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:36:35,995 basehttp 7529 123145373003776 "GET /admin/orders/order/ HTTP/1.1" 200 17053
INFO 2025-09-26 13:36:36,047 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:36:36,076 basehttp 7529 123145373003776 "GET /static/admin/img/sorting-icons.svg HTTP/1.1" 304 0
INFO 2025-09-26 13:36:39,561 basehttp 7529 123145373003776 "GET /admin/orders/orderstatushistory/ HTTP/1.1" 200 13697
INFO 2025-09-26 13:36:39,622 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:36:40,872 basehttp 7529 123145373003776 "GET /admin/orders/orderstatushistory/add/ HTTP/1.1" 200 19026
INFO 2025-09-26 13:36:40,925 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:36:44,205 basehttp 7529 123145373003776 "GET /admin/orders/orderitem/add/ HTTP/1.1" 200 18983
INFO 2025-09-26 13:36:44,262 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:37:19,201 basehttp 7529 123145373003776 "POST /admin/orders/orderitem/add/ HTTP/1.1" 200 19179
INFO 2025-09-26 13:37:19,255 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:37:24,363 basehttp 7529 123145373003776 "GET /admin/products/product/ HTTP/1.1" 200 13475
INFO 2025-09-26 13:37:24,423 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:37:26,332 basehttp 7529 123145373003776 "GET /admin/products/product/add/ HTTP/1.1" 200 29509
INFO 2025-09-26 13:37:26,387 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:37:26,467 basehttp 7529 123145373003776 "GET /static/admin/img/inline-delete.svg HTTP/1.1" 304 0
INFO 2025-09-26 13:38:18,532 basehttp 7529 123145373003776 "POST /admin/products/product/add/ HTTP/1.1" 302 0
INFO 2025-09-26 13:38:18,584 basehttp 7529 123145373003776 "GET /admin/products/product/add/ HTTP/1.1" 200 29757
INFO 2025-09-26 13:38:18,652 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:38:21,844 basehttp 7529 123145373003776 "GET /admin/orders/orderitem/ HTTP/1.1" 200 12249
INFO 2025-09-26 13:38:21,894 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:38:24,383 basehttp 7529 123145373003776 "GET /admin/orders/orderitem/add/ HTTP/1.1" 200 19031
INFO 2025-09-26 13:38:24,439 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:38:38,572 basehttp 7529 123145373003776 "POST /admin/orders/orderitem/add/ HTTP/1.1" 302 0
INFO 2025-09-26 13:38:38,613 basehttp 7529 123145373003776 "GET /admin/orders/orderitem/add/ HTTP/1.1" 200 19279
INFO 2025-09-26 13:38:38,673 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:38:55,261 basehttp 7529 123145373003776 "GET /admin/orders/orderstatushistory/add/ HTTP/1.1" 200 19026
INFO 2025-09-26 13:38:55,322 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
INFO 2025-09-26 13:39:23,675 basehttp 7529 123145373003776 "POST /admin/orders/orderstatushistory/add/ HTTP/1.1" 302 0
INFO 2025-09-26 13:39:23,716 basehttp 7529 123145373003776 "GET /admin/orders/orderstatushistory/add/ HTTP/1.1" 200 19334
INFO 2025-09-26 13:39:23,778 basehttp 7529 123145373003776 "GET /admin/jsi18n/ HTTP/1.1" 200 3343
